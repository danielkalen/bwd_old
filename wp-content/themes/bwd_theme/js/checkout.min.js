function attachEvents(e){e.focus(function(){$(this).parent().addClass("focus")}),e.blur(function(){$(this).parent().removeClass("focus")}),e.keyup(function(){""===$(this).val()?$(this).parent().removeClass("filled"):$(this).parent().addClass("filled")}),e.parent().hasClass("select")&&e.change(function(){""!==$(this).val()?$(this).parent().addClass("filled"):$(this).parent().removeClass("filled")})}function makeValid(e){e.addClass("valid").removeClass("invalid error")}function makeInvalid(e,t){e.addClass("invalid").removeClass("valid"),t&&e.addClass("invalid error")}function scrollUpIfNeeded(e){window.pageYOffset>e.offset().top&&$("html, body").animate({scrollTop:e.offset().top-70},300)}function setSectionHeight(e){e.hasClass("billing")&&(e.height(billingHeight),setTimeout(function(){billingHeight=e.height()},1e3)),e.hasClass("shipping")&&(e.height(shippingHeight),setTimeout(function(){shippingHeight=e.height()},1e3)),e.hasClass("payment")&&(e.height(paymentHeight),setTimeout(function(){paymentHeight=e.height()},1e3))}function billingFill(){var e=$$("#s-firstname").val(),t=$$("#s-lastname").val(),r=$$("#s-address").val(),n=$$("#s-apt").val(),i=$$("#s-country").val(),o=$$("#s-state").val(),a=$$("#s-city").val(),s=$$("#s-zip").val();$$("#b-firstname").val(e),$$("#b-lastname").val(t),$$("#b-address").val(r),$$("#b-apt").val(n),$$("#b-country").val(i),$$("#b-state").val(o),$$("#b-city").val(a),$$("#b-zip").val(s),$$("form.checkout").find(".checkout-section.shipping .fieldset").removeClass("invalid error").addClass("filled"),$$("#b-firstname, #b-lastname, #b-address, #b-apt, #b-country, #b-state, #b-city, #b-zip").change()}function billingEmpty(){$$("#b-firstname").val(""),$$("#b-lastname").val(""),$$("#b-address").val(""),$$("#b-apt").val(""),$$("#b-country").val(""),$$("#b-state").val(""),$$("#b-city").val(""),$$("#b-zip").val(""),$$("form.checkout").find(".checkout-section.shipping .fieldset").removeClass("invalid error filled")}function cardError(e,t,r){makeInvalid(r,!0),buttonError(t),r.one("keydown",function(){buttonClear()})}function initCard(){$("#payment").card({container:$(".card-wrapper"),numberInput:"#stripe-card-number",expiryInput:"#stripe-card-expiry",cvcInput:"#stripe-card-cvc",nameInput:"#stripe-card-name"})}function attachStripeFieldEvents(){$.fn.formPrepare.inputField($(".checkout-section-fieldset.cardnumber")),$.fn.formPrepare.numberField($(".checkout-section-fieldset.cardexpire")),$.fn.formPrepare.numberField($(".checkout-section-fieldset.cardcvc")),attachEvents($("#stripe-card-number")),attachEvents($("#stripe-card-expiry")),attachEvents($("#stripe-card-cvc")),attachEvents($('input[name="cardname"]'))}function popupInit(){$$("body").prepend('<div class="md-modal md-effect-5" id="modal-5"><div class="md-content"><h3>Terms &amp; Conditions</h3><div><p>Please read the following terms &amp; conditions before agreeing:</p><div class="terms-box">PLEASE READ! http://shopperbarn.com REQUIRES CONSIDERATION FOR AND AS A CONDITION OF ALLOWING YOU ACCESS. <br><br>READING AND ACCEPTING THE TERMS OF USE AND READING AND ACCEPTING THE PROVISIONS OF THE PRIVACY POLICY OF http://shopperbarn.com ARE REQUIRED CONSIDERATIONS FOR http://shopperbarn.com GRANTING YOU THE RIGHT TO VISIT, READ OR INTERACT WITH IT. <br><br>ALL PERSONS ARE DENIED ACCESS TO THIS SITE UNLESS THEY READ AND ACCEPT THE TERMS OF USE AND THE PRIVACY POLICY. <br><br>BY VIEWING, VISITING, USING, OR INTERACTING WITH http://shopperbarn.com OR WITH ANY BANNER, POP-UP, OR ADVERTISING THAT APPEARS ON IT, YOU ARE AGREEING TO ALL THE PROVISIONS OF THIS TERMS OF USE POLICY AND THE PRIVACY POLICY OF http://shopperbarn.com. <br><br>ALL PERSONS UNDER THE AGE OF 18 ARE DENIED ACCESS TO http://shopperbarn.com. IF YOU ARE UNDER 18 YEARS OF AGE, IT IS UNLAWFUL FOR YOU TO VISIT, READ, OR INTERACT WITH http://shopperbarn.com OR ITS CONTENTS IN ANY MANNER. http://shopperbarn.com SPECIFICALLY DENIES ACCESS TO ANY INDIVIDUAL THAT IS COVERED BY THE CHILD ONLINE PRIVACY ACT (COPA) OF 1998. <br><br>http://shopperbarn.com RESERVES THE RIGHT TO DENY ACCESS TO ANY PERSON OR VIEWER FOR ANY REASON. UNDER THE TERMS OF THE PRIVACY POLICY, WHICH YOU ACCEPT AS A CONDITION FOR VIEWING, http://shopperbarn.com IS ALLOWED TO COLLECT AND STORE DATA AND INFORMATION FOR THE PURPOSE OF EXCLUSION AND FOR MANY OTHER USES. <br><br>THE TERMS OF USE AGREEMENT MAY CHANGE FROM TIME TO TIME. VISITORS HAVE AN AFFIRMATIVE DUTY, AS PART OF THE CONSIDERATION FOR PERMISSION TO VIEW http://shopperbarn.com, TO KEEP THEMSELVES INFORMED OF CHANGES. <br><br>PARTIES TO THE TERMS OF USE AGREEMENT<br><br>Visitors, viewers, users, subscribers, members, affiliates, or customers, collectively referred to herein as “Visitors,” are parties to this agreement. The website and its owners and/or operators are parties to this agreement, herein referred to as “Website.” <br><br>USE OF INFORMATION FROM THIS WEBSITE <br><br>Unless you have entered into an express written contract with this website to the contrary, visitors, viewers, subscribers, members, affiliates, or customers have no right to use this information in a commercial or public setting; they have no right to broadcast it, copy it, save it, print it, sell it, or publish any portions of the content of this website. By viewing the contents of this website you agree this condition of viewing and you acknowledge that any unauthorized use is unlawful and may subject you to civil or criminal penalties. Again, Visitor has no rights whatsoever to use the content of, or portions thereof, including its databases, invisible pages, linked pages, underlying code, or other intellectual property the site may contain, for any reason for any use whatsoever. Nothing. Visitor agrees to liquidated damages in the amount of U.S.$100,000 in addition to costs and actual damages for breach of this provision. Visitor warrants that he or she understands that accepting this provision is a condition of viewing and that viewing constitutes acceptance. <br><br>OWNERSHIP OF WEBSITE OR RIGHT TO USE, SELL, PUBLISH CONTENTS OF THIS WEBSITE <br><br>The website and its contents are owned or licensed by the website. Material contained on the website must be presumed to be proprietary and copyrighted. Visitors have no rights whatsoever in the site content. Use of website content for any reason is unlawful unless it is done with express contract or permission of the website. <br><br>HYPERLINKING TO SITE, CO-BRANDING, “FRAMING” AND REFERENCING SITE PROHIBITED <br><br>Unless expressly authorized by website, no one may hyperlink this site, or portions thereof, (including, but not limited to, logotypes, trademarks, branding or copyrighted material) to theirs for any reason. Further, you are not allowed to reference the url (website address) of this website in any commercial or non-commercial media without express permission, nor are you allowed to ‘frame’ the site. You specifically agree to cooperate with the Website to remove or de-activate any such activities and be liable for all damages. You hereby agree to liquidated damages of US $100,000.00 plus costs and actual damages for violating this provision. <br><br>DISCLAIMER FOR CONTENTS OF SITE<br><br>The website disclaims any responsibility for the accuracy of the content of this website. Visitors assume the all risk of viewing, reading, using, or relying upon this information. Unless you have otherwise formed an express contract to the contrary with the website, you have no right to rely on any information contained herein as accurate. The website makes no such warranty. <br><br>DISCLAIMER FOR HARM CAUSED TO YOUR COMPUTER OR SOFTWARE FROM INTERACTING WITH THIS WEBSITE OR ITS CONTENTS. VISITOR ASSUMES ALL RISK OF VIRUSES, WORMS, OR OTHER CORRUPTING FACTORS. <br><br>The website assumes no responsibility for damage to computers or software of the visitor or any person the visitor subsequently communicates with from corrupting code or data that is inadvertently passed to the visitor’s computer. Again, visitor views and interacts with this site, or banners or pop-ups or advertising displayed thereon, at his own risk. <br><br>DISCLAIMER FOR HARM CAUSED BY DOWNLOADS <br><br>Visitor downloads information from this site at his own risk. Website makes no warranty that downloads are free of corrupting computer codes, including, but not limited to, viruses and worms. <br><br>LIMITATION OF LIABILITY <br><br>By viewing, using, or interacting in any manner with this site, including banners, advertising, or pop-ups, downloads, and as a condition of the website to allow his lawful viewing, Visitor forever waives all right to claims of damage of any and all description based on any causal factor resulting in any possible harm, no matter how heinous or extensive, whether physical or emotional, foreseeable or unforeseeable, whether personal or business in nature. <br><br>INDEMNIFICATION <br><br>Visitor agrees that in the event he causes damage, which the Website is required to pay for, the Visitor, as a condition of viewing, promises to reimburse the Website for all. <br><br>SUBMISSIONS <br><br>Visitor agrees as a condition of viewing, that any communication between Visitor and Website is deemed a submission. All submissions, including portions thereof, graphics contained thereon, or any of the content of the submission, shall become the exclusive property of the Website and may be used, without further permission, for commercial use without additional consideration of any kind. Visitor agrees to only communicate that information to the Website, which it wishes to forever allow the Website to use in any manner as it sees fit. “Submissions” is also a provision of the Privacy Policy. <br><br>NOTICE<br><br>No additional notice of any kind for any reason is due Visitor and Visitor expressly warrants an understanding that the right to notice is waived as a condition for permission to view or interact with the website. <br><br>DISPUTES <br><br>As part of the consideration that the Website requires for viewing, using or interacting with this website, Visitor agrees to use binding arbitration for any claim, dispute, or controversy (“CLAIM”) of any kind (whether in contract, tort or otherwise) arising out of or relating to this purchase, this product, including solicitation issues, privacy issues, and terms of use issues. <br><br>Arbitration shall be conducted pursuant to the rules of the American Arbitration Association which are in effect on the date a dispute is submitted to the American Arbitration Association. Information about the American Arbitration Association, its rules, and its forms are available from the American Arbitration Association, 335 Madison Avenue, Floor 10, New York, New York, 10017-4605. Hearing will take place in the city or county of the Seller. <br><br>In no case shall the viewer, visitor, member, subscriber or customer have the right to go to court or have a jury trial. Viewer, visitor, member, subscriber or customer will not have the right to engage in pre-trial discovery except as provided in the rules; you will not have the right to participate as a representative or member of any class of claimants pertaining to any claim subject to arbitration; the arbitrator’s decision will be final and binding with limited rights of appeal. <br><br>The prevailing party shall be reimbursed by the other party for any and all costs associated with the dispute arbitration, including attorney fees, collection fees, investigation fees, travel expenses. <br><br>JURISDICTION AND VENUE <br><br>If any matter concerning this purchase shall be brought before a court of law, pre- or post-arbitration, Viewer, visitor, member, subscriber or customer agrees to that the sole and proper jurisdiction to be the state and city declared in the contact information of the web owner unless otherwise here specified. In the event that litigation is in a federal court, the proper court shall be the closest federal court to the Seller’s address. <br><br>APPLICABLE LAW<br><br>Viewer, visitor, member, subscriber or customer agrees that the applicable law to be applied shall, in all cases, be that of the state of the Seller. <br><br>CONTACT INFORMATION <br><br>The Seller of this product is: <br>Mailing address: <br>Shopperbarn<br>1 Great Neck Rd<br>Great Neck, NY, 11021<br>United States<br><br>Contact Email: support@shopperbarn.com, All Rights Reserved.<br><br><br><br><br><h2 class="wpb_area_title default-page-title refund-policy-title">Refund Policy</h2>http://shopperbarn.com may, but are under no obligation to, honor requests for refunds for the following reasons:<br><br>Non-delivery of the product: Due to an issue with the mail or courier service, you do not receive a delivery e-mail from us. Depending on the price of the product, http://shopperbarn.com may require you to first submit proof that you have submitted a report to the mail service or courier company describing the missing item;<br><br>Download issues: You have problems that prevent you from downloading the product. http://shopperbarn.com recommends that you contact the support team for your browser provider, as http://shopperbarn.com ensures that our software can be downloaded with all major browsers, and this problem usually arises from a customer’s issue with either their browser, firewall, or network;<br><br>Irreparable defects with the software: Although all the products are thoroughly tested before release, unexpected errors may occur. This reason should be submitted to our Support Team for its approval of your refund request;<br><br>Product not-as-described: A request based on this reason is addressed on a case-by-case basis and subject to our approval. To prevent this kind of claim from arising, every customer is encouraged to check free samples ( in the form of video overviews, demo links, product samples, screen shots) of each type of the product offered before making a purchase.</div><button class="md-close">Close</button></div></div></div><div class="md-overlay"></div>'),overlay=document.querySelector(".md-overlay"),[].slice.call(document.querySelectorAll(".popup-trigger.terms")).forEach(function(e,t){modal=document.querySelector("#modal-5"),close=modal.querySelector(".md-close"),popupAddEventListener(e),close.addEventListener("click",function(t){t.stopPropagation(),removeModalHandler(e)})})}function popupAddEventListener(e){e.addEventListener("click",function(t){t.preventDefault(),classie.add(modal,"md-show"),overlay.removeEventListener("click",removeModalHandler),overlay.addEventListener("click",removeModalHandler),classie.has(e,"md-setperspective")&&setTimeout(function(){classie.add(document.documentElement,"md-perspective")},25)})}function removeModal(e){classie.remove(modal,"md-show"),e&&classie.remove(document.documentElement,"md-perspective")}function removeModalHandler(e){removeModal(classie.has(e,"md-setperspective"))}var proceed,problem,$required,$currentStep,$previousStep,$lastField,billingSame,isOne,isTwo,isThree,billingHeight=$$(".checkout-section.billing").height(),shippingHeight=$$(".checkout-section.shipping").height(),paymentHeight=$$(".checkout-section.payment").height();$window.on("resize",function(){window.innerWidth<=920&&(billingHeight=$$(".checkout-section.billing").find(".checkout-section-wrap").height()+80,shippingHeight=$$(".checkout-section.shipping").find(".checkout-section-wrap").height()+80,paymentHeight=$$(".checkout-section.payment").find(".checkout-section-wrap").height()+80,setSectionHeights())}),$.fn.form=function(e,t){},$.fn.formValidate=function(){proceed=!1,problem=!1,$required=$$("form.checkout").find(".checkout-section.show").find(".fieldset.required"),billingSame=!$$("form.checkout").find(".fieldset.checkbox .input-button").hasClass("checked"),$required.each(function(){$this=$(this),$this.hasClass("valid")?$this.removeClass("error"):(problem=!0,$this.addClass("error"))}),proceed=problem?!1:!0},$.fn.formNext=function(){if($currentStep=$$("form.checkout").find(".checkout-section.show"),$currentStep.hasClass("payment"))var e=!0;else $$("form.checkout").formValidate();if(e){var t=$$("form.checkout").find(".checkout-section.billing").hasClass("show"),r;r=t&&billingSame?$currentStep.next().next():$currentStep.next(),$currentStep.removeClass("show").height(39),r.addClass("show"),setSectionHeight(this),scrollUpIfNeeded(r)}},$.fn.formOpen=function(){if(!this.hasClass("show")){var e=$$("form.checkout").find(".checkout-section.show");if(e.hasClass("payment"))var t=!0;else $$("form.checkout").formValidate();t||e.addClass("incomplete"),this.hasClass("shipping")&&billingSame?(e.hasClass("billing")||(e.removeClass("show").height(39),$$(".checkout-section.billing").addClass("show"),setSectionHeight($$(".checkout-section.billing"))),$$("#ship-to-different-address").addClass("highlight"),setTimeout(function(){$$("#ship-to-different-address").removeClass("highlight")},2e3)):(e.removeClass("show").height(39),this.addClass("show"),setSectionHeight(this),scrollUpIfNeeded(this))}},$.fn.formSubmit=function(){$$("form.checkout").formValidate(),$$(".cta-form-totals-item.shipping").hasClass("error")?buttonError("Shipping Zip Code"):proceed&&$$("#place_order").click()},$.fn.formBack=function(){if($currentStep=$$("form.checkout").find(".checkout-section.show"),e=$currentStep.prev(),$currentStep.hasClass("payment")&&billingSame)var e=$currentStep.prev().prev();$currentStep.removeClass("show").height(39),e.addClass("show"),setSectionHeight(e),scrollUpIfNeeded(e)},$.fn.formPrepare=function(){var e=$$("form.checkout").find(".checkout-section.billing"),t=$$("form.checkout").find(".checkout-section.shipping"),r=$$("form.checkout").find(".checkout-section.payment");e.addClass("show").height(billingHeight),t.height(39),r.height(39),$$("form.checkout").find(".fieldset").not(".radio, .checkbox").each(function(){$.fn.formPrepare.inputField($(this))}),$$("form.checkout").find(".fieldset.checkbox").each(function(){$.fn.formPrepare.checkboxField($(this))}),$$("form.checkout").find(".phone, .zip, .cardnumber, .cardcvc, .carddate").each(function(){$.fn.formPrepare.numberField($(this))}),$$("form.checkout").find(".email").each(function(){$.fn.formPrepare.emailField($(this))}),$$(".checkout-section").each(function(){$lastField=$(this).find(".fieldset").not(".checkbox").last(),$lastField.on("keydown",function(e){9===e.keyCode&&e.preventDefault()})}),$$("form.checkout .input").each(function(){$this=$(this),attachEvents($this)})},$.fn.formPrepare.inputField=function(e){e.hasClass("required")?e.find(".input").not(".phone, .email, .cardcvc, .carddate").on("change keydown",function(){""===$(this).val()||null===$(this).val()?makeInvalid($(this).parents(".fieldset")):makeValid($(this).parents(".fieldset"))}):e.addClass("valid")},$.fn.formPrepare.emailField=function(e){e.on("change keydown",function(){var e=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);""!==$(this).val()&&e.test($(this).val())?makeValid($(this).parents(".fieldset")):makeInvalid($(this).parents(".fieldset"))})},$.fn.formPrepare.checkboxField=function(e){e.find(".input-button").click(function(){$(this).hasClass("checked")?($(this).removeClass("checked"),$(this).find(".input").prop("checked",!1),$(this).hasClass("checked")||$(this).siblings().hasClass("checked")?makeValid($(this).parents(".fieldset")):makeInvalid($(this).parents(".fieldset"))):($(this).addClass("checked"),$(this).find(".checkbox").prop("checked",!0),$(this).find(".input").prop("checked",!0),makeValid($(this).parents(".fieldset")))}),e.find("label").click(function(){$(this).parent().click()})},$.fn.formPrepare.numberField=function(e){e.keydown(function(e){e.ctrlKey||e.metaKey||normalKeycodes(e)||e.preventDefault()}),e.hasClass("phone")&&e.change(function(){""===$(this).val()||$(this).val().length<7?makeInvalid($(this).parents(".fieldset")):makeValid($(this).parents(".fieldset"))}),e.hasClass("cardcvc")&&e.change(function(){""===$(this).val()||$(this).val().length<3?makeInvalid($(this).parents(".fieldset")):makeValid($(this).parents(".fieldset"))}),e.hasClass("carddate")&&e.on("keydown keypress",function(e){var t=8===e.keyCode,r=9===e.keyCode,n=e.key;e.ctrlKey||e.metaKey||(!normalKeycodes(e)||e.keyCode>=48&&e.keyCode<=57)&&e.preventDefault(),mobile&&((48===e.keyCode||96===e.keyCode)&&(n=0),(49===e.keyCode||97===e.keyCode)&&(n=1),(50===e.keyCode||98===e.keyCode)&&(n=2),(51===e.keyCode||99===e.keyCode)&&(n=3),(52===e.keyCode||100===e.keyCode)&&(n=4),(53===e.keyCode||101===e.keyCode)&&(n=5),(54===e.keyCode||102===e.keyCode)&&(n=6),(55===e.keyCode||103===e.keyCode)&&(n=7),(56===e.keyCode||104===e.keyCode)&&(n=8),(57===e.keyCode||105===e.keyCode)&&(n=9));var i=$(this),o=i.val(),a=o.length;t?a>=3&&5>=a&&(o=o.substr(0,2)):(7>=a&&!isNaN(n)&&(0===a&&1>=n&&(o+=n),0===a&&n>1&&(o=o+"0"+n),1===a&&9>=n&&("0"===o.substr(0,1)?o+=n:2>=n&&(o+=n)),2===a&&(o=o+" / "+n),3===a&&(o=o+"/ "+n),4===a&&(o=o+" "+n),(5===a||6===a)&&(o+=n),a=o.length),a>=7?makeValid($(this).parents(".fieldset")):makeInvalid($(this).parents(".fieldset"))),i.val(o)})},$$("form.checkout").formPrepare(),$$("form.checkout .next").on("click",function(){$$("form.checkout").formNext()}),$$("form.checkout .submit").on("click",function(){$$("form.checkout").formSubmit()}),$$("form.checkout .back").on("click",function(){$$("form.checkout").formBack()}),$$(".checkout-section-title").on("click",function(){$(this).parent().formOpen()}),setTimeout(function(){$$(".checkout-section-fieldset-label").find("abbr").remove()},1e3),$$("body").on("updated_checkout",function(){initCard(),attachStripeFieldEvents(),popupAddEventListener(document.querySelectorAll(".popup-trigger.terms")[0])}),attachEvents($$("#username")),attachEvents($$("#password")),attachEvents($$("#coupon_code")),$$(".login-button").on("click",function(){$$(".login-button-hidden").click()}),$$(".apply_coupon-button").on("click",function(){$$(".apply_coupon-button-hidden").click()}),!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.card=e()}}(function(){var e,t,r;return function n(e,t,r){function i(a,s){if(!t[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=t[a]={exports:{}};e[a][0].call(l.exports,function(t){var r=e[a][1][t];return i(r?r:t)},l,l.exports,n,e,t,r)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,r){(function(){var $,e,t,r,n,i,o,a,s,c,l,d,h,u,p,f,m,v,b,g,y=[].slice,C=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};$=jQuery,$.payment={},$.payment.fn={},$.fn.payment=function(){var e,t;return t=arguments[0],e=2<=arguments.length?y.call(arguments,1):[],$.payment.fn[t].apply(this,e)},n=/(\d{1,4})/g,r=[{type:"visaelectron",pattern:/^4(026|17500|405|508|844|91[37])/,format:n,length:[16],cvcLength:[3],luhn:!0},{type:"maestro",pattern:/^(5(018|0[23]|[68])|6(39|7))/,format:n,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",pattern:/^600/,format:n,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",pattern:/^5019/,format:n,length:[16],cvcLength:[3],luhn:!0},{type:"visa",pattern:/^4/,format:n,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[0-5]/,format:n,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",pattern:/^3[0689]/,format:n,length:[14],cvcLength:[3],luhn:!0},{type:"discover",pattern:/^6([045]|22)/,format:n,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^(62|88)/,format:n,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",pattern:/^35/,format:n,length:[16],cvcLength:[3],luhn:!0}],e=function(e){var t,n,i;for(e=(e+"").replace(/\D/g,""),n=0,i=r.length;i>n;n++)if(t=r[n],t.pattern.test(e))return t},t=function(e){var t,n,i;for(n=0,i=r.length;i>n;n++)if(t=r[n],t.type===e)return t},h=function(e){var t,r,n,i,o,a;for(n=!0,i=0,r=(e+"").split("").reverse(),o=0,a=r.length;a>o;o++)t=r[o],t=parseInt(t,10),(n=!n)&&(t*=2),t>9&&(t-=9),i+=t;return i%10===0},d=function(e){var t;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")?!0:("undefined"!=typeof document&&null!==document&&null!=(t=document.selection)&&"function"==typeof t.createRange?t.createRange().text:void 0)?!0:!1},u=function(e){return setTimeout(function(){var t,r;return t=$(e.currentTarget),r=t.val(),r=$.payment.formatCardNumber(r),t.val(r)})},a=function(t){var r,n,i,o,a,s,c;return i=String.fromCharCode(t.which),!/^\d+$/.test(i)||(r=$(t.currentTarget),c=r.val(),n=e(c+i),o=(c.replace(/\D/g,"")+i).length,s=16,n&&(s=n.length[n.length.length-1]),o>=s||null!=r.prop("selectionStart")&&r.prop("selectionStart")!==c.length)?void 0:(a=n&&"amex"===n.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,a.test(c)?(t.preventDefault(),setTimeout(function(){return r.val(c+" "+i)})):a.test(c+i)?(t.preventDefault(),setTimeout(function(){return r.val(c+i+" ")})):void 0)},i=function(e){var t,r;return t=$(e.currentTarget),r=t.val(),8!==e.which||null!=t.prop("selectionStart")&&t.prop("selectionStart")!==r.length?void 0:/\d\s$/.test(r)?(e.preventDefault(),setTimeout(function(){return t.val(r.replace(/\d\s$/,""))})):/\s\d?$/.test(r)?(e.preventDefault(),setTimeout(function(){return t.val(r.replace(/\s\d?$/,""))})):void 0},p=function(e){return setTimeout(function(){var t,r;return t=$(e.currentTarget),r=t.val(),r=$.payment.formatExpiry(r),t.val(r)})},s=function(e){var t,r,n;return r=String.fromCharCode(e.which),/^\d+$/.test(r)?(t=$(e.currentTarget),n=t.val()+r,/^\d$/.test(n)&&"0"!==n&&"1"!==n?(e.preventDefault(),setTimeout(function(){return t.val("0"+n+" / ")})):/^\d\d$/.test(n)?(e.preventDefault(),setTimeout(function(){return t.val(""+n+" / ")})):void 0):void 0},c=function(e){var t,r,n;return r=String.fromCharCode(e.which),/^\d+$/.test(r)?(t=$(e.currentTarget),n=t.val(),/^\d\d$/.test(n)?t.val(""+n+" / "):void 0):void 0},l=function(e){var t,r,n;return n=String.fromCharCode(e.which),"/"===n||" "===n?(t=$(e.currentTarget),r=t.val(),/^\d$/.test(r)&&"0"!==r?t.val("0"+r+" / "):void 0):void 0},o=function(e){var t,r;return t=$(e.currentTarget),r=t.val(),8!==e.which||null!=t.prop("selectionStart")&&t.prop("selectionStart")!==r.length?void 0:/\s\/\s\d?$/.test(r)?(e.preventDefault(),setTimeout(function(){return t.val(r.replace(/\s\/\s\d?$/,""))})):void 0},b=function(e){var t;return e.metaKey||e.ctrlKey?!0:32===e.which?!1:0===e.which?!0:e.which<33?!0:(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))},m=function(t){var r,n,i,o;return r=$(t.currentTarget),i=String.fromCharCode(t.which),/^\d+$/.test(i)&&!d(r)?(o=(r.val()+i).replace(/\D/g,""),n=e(o),n?o.length<=n.length[n.length.length-1]:o.length<=16):void 0},v=function(e){var t,r,n;return t=$(e.currentTarget),r=String.fromCharCode(e.which),/^\d+$/.test(r)&&!d(t)?(n=t.val()+r,n=n.replace(/\D/g,""),n.length>6?!1:void 0):void 0},f=function(e){var t,r,n;return t=$(e.currentTarget),r=String.fromCharCode(e.which),/^\d+$/.test(r)&&!d(t)?(n=t.val()+r,n.length<=4):void 0},g=function(e){var t,n,i,o,a;return t=$(e.currentTarget),a=t.val(),o=$.payment.cardType(a)||"unknown",t.hasClass(o)?void 0:(n=function(){var e,t,n;for(n=[],e=0,t=r.length;t>e;e++)i=r[e],n.push(i.type);return n}(),t.removeClass("unknown"),t.removeClass(n.join(" ")),t.addClass(o),t.toggleClass("identified","unknown"!==o),t.trigger("payment.cardType",o))},$.payment.fn.formatCardCVC=function(){return this.payment("restrictNumeric"),this.on("keypress",f),this},$.payment.fn.formatCardExpiry=function(){return this.payment("restrictNumeric"),this.on("keypress",v),this.on("keypress",s),this.on("keypress",l),this.on("keypress",c),this.on("keydown",o),this.on("change",p),this.on("input",p),this},$.payment.fn.formatCardNumber=function(){return this.payment("restrictNumeric"),this.on("keypress",m),this.on("keypress",a),this.on("keydown",i),this.on("keyup",g),this.on("paste",u),this.on("change",u),this.on("input",u),this.on("input",g),this},$.payment.fn.restrictNumeric=function(){return this.on("keypress",b),this},$.payment.fn.cardExpiryVal=function(){return $.payment.cardExpiryVal($(this).val())},$.payment.cardExpiryVal=function(e){var t,r,n,i;return e=e.replace(/\s/g,""),i=e.split("/",2),t=i[0],n=i[1],2===(null!=n?n.length:void 0)&&/^\d+$/.test(n)&&(r=(new Date).getFullYear(),r=r.toString().slice(0,2),n=r+n),t=parseInt(t,10),n=parseInt(n,10),{month:t,year:n}},$.payment.validateCardNumber=function(t){var r,n;return t=(t+"").replace(/\s+|-/g,""),/^\d+$/.test(t)?(r=e(t),r?(n=t.length,C.call(r.length,n)>=0&&(r.luhn===!1||h(t))):!1):!1},$.payment.validateCardExpiry=function(e,t){var r,n,i;return"object"==typeof e&&"month"in e&&(i=e,e=i.month,t=i.year),e&&t?(e=$.trim(e),t=$.trim(t),/^\d+$/.test(e)&&/^\d+$/.test(t)&&e>=1&&12>=e?(2===t.length&&(t=70>t?"20"+t:"19"+t),4!==t.length?!1:(n=new Date(t,e),r=new Date,n.setMonth(n.getMonth()-1),n.setMonth(n.getMonth()+1,1),n>r)):!1):!1},$.payment.validateCardCVC=function(e,r){var n,i;return e=$.trim(e),/^\d+$/.test(e)?(n=t(r),null!=n?(i=e.length,C.call(n.cvcLength,i)>=0):e.length>=3&&e.length<=4):!1},$.payment.cardType=function(t){var r;return t?(null!=(r=e(t))?r.type:void 0)||null:null},$.payment.formatCardNumber=function(t){var r,n,i,o;return(r=e(t))?(i=r.length[r.length.length-1],t=t.replace(/\D/g,""),t=t.slice(0,i),r.format.global?null!=(o=t.match(r.format))?o.join(" "):void 0:(n=r.format.exec(t),null!=n?(n.shift(),n=$.grep(n,function(e){return e}),n.join(" ")):void 0)):t},$.payment.formatExpiry=function(e){var t,r,n,i;return(r=e.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/))?(t=r[1]||"",n=r[2]||"",i=r[3]||"",(i.length>0||n.length>0&&!/\ \/?\ ?/.test(n))&&(n=" / "),1===t.length&&"0"!==t&&"1"!==t&&(t="0"+t,n=" / "),t+n+i):""}}).call(this)},{}],2:[function(e,t,r){var $,n,i=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1},o=[].slice;e("jquery.payment"),$=jQuery,$.card={},$.card.fn={},$.fn.card=function(e){return $.card.fn.construct.apply(this,e)},n=function(){function e(e,t){return this.options=$.extend(!0,{},this.defaults,t),$.extend(this.options.messages,$.card.messages),$.extend(this.options.values,$.card.values),this.$el=$(e),this.options.container?(this.$container=$(this.options.container),this.render(),this.attachHandlers(),void this.handleInitialValues()):void console.log("Please provide a container")}return e.prototype.cardTemplate='<div class="card-container">\n    <div class="card">\n        <div class="front">\n                <div class="card-logo visa">visa</div>\n                <div class="card-logo mastercard">MasterCard</div>\n                <div class="card-logo amex"></div>\n                <div class="card-logo discover">discover</div>\n            <div class="lower">\n                <div class="shiny"></div>\n                <div class="cvc display">{{cvc}}</div>\n                <div class="number display">{{number}}</div>\n                <div class="name display">{{name}}</div>\n                <div class="expiry display" data-before="{{monthYear}}" data-after="{{validDate}}">{{expiry}}</div>\n            </div>\n        </div>\n        <div class="back">\n            <div class="bar"></div>\n            <div class="cvc display">{{cvc}}</div>\n            <div class="shiny"></div>\n        </div>\n    </div>\n</div>',e.prototype.template=function(e,t){return e.replace(/\{\{(.*?)\}\}/g,function(e,r,n){return t[r]})},e.prototype.cardTypes=["maestro","dinersclub","laser","jcb","unionpay","discover","mastercard","amex","visa"],
e.prototype.defaults={formatting:!0,formSelectors:{numberInput:'input[name="number"]',expiryInput:'input[name="expiry"]',cvcInput:'input[name="cvc"]',nameInput:'input[name="name"]'},cardSelectors:{cardContainer:".card-container",card:".card",numberDisplay:".number",expiryDisplay:".expiry",cvcDisplay:".cvc",nameDisplay:".name"},messages:{validDate:"valid\nthru",monthYear:"month/year"},values:{number:"&bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull;",cvc:"&bull;&bull;&bull;",expiry:"&bull;&bull;/&bull;&bull;",name:"Full Name"},classes:{valid:"card-valid",invalid:"card-invalid"}},e.prototype.render=function(){var e,t;return this.$container.append(this.template(this.cardTemplate,$.extend({},this.options.messages,this.options.values))),$.each(this.options.cardSelectors,function(e){return function(t,r){return e["$"+t]=e.$container.find(r)}}(this)),$.each(this.options.formSelectors,function(e){return function(t,r){var n;return n=e.options[t]?$(e.options[t]):e.$el.find(r),n.length||console.error("Card can't find a "+t+" in your form."),e["$"+t]=n}}(this)),this.options.formatting&&(this.$numberInput.payment("formatCardNumber"),this.$cvcInput.payment("formatCardCVC"),1===this.$expiryInput.length&&this.$expiryInput.payment("formatCardExpiry")),this.options.width&&(e=parseInt(this.$cardContainer.css("width")),this.$cardContainer.css("transform","scale("+this.options.width/e+")")),("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent:void 0)&&(t=navigator.userAgent.toLowerCase(),-1!==t.indexOf("safari")&&-1===t.indexOf("chrome")&&this.$card.addClass("safari")),new Function("/*@cc_on return @_jscript_version; @*/")()?this.$card.addClass("ie-10"):void 0},e.prototype.attachHandlers=function(){var e;return this.$numberInput.bindVal(this.$numberDisplay,{fill:!1,filters:this.validToggler("cardNumber")}).on("payment.cardType",this.handle("setCardType")),e=[function(e){return e.replace(/(\s+)/g,"")}],1===this.$expiryInput.length&&(e.push(this.validToggler("cardExpiry")),this.$expiryInput.on("keydown",this.handle("captureTab"))),this.$expiryInput.bindVal(this.$expiryDisplay,{join:function(e){return 2===e[0].length||e[1]?"/":""},filters:e}),this.$cvcInput.bindVal(this.$cvcDisplay,{filters:this.validToggler("cardCVC")}).on("focus",this.handle("flipCard")).on("blur",this.handle("flipCard")),this.$nameInput.bindVal(this.$nameDisplay,{fill:!1,filters:this.validToggler("cardHolderName"),join:" "}).on("keydown",this.handle("captureName"))},e.prototype.handleInitialValues=function(){return $.each(this.options.formSelectors,function(e){return function(t,r){var n;return n=e["$"+t],n.val()?(n.trigger("paste"),setTimeout(function(){return n.trigger("keyup")})):void 0}}(this))},e.prototype.handle=function(e){return function(t){return function(r){var n,i;return n=$(r.currentTarget),i=Array.prototype.slice.call(arguments),i.unshift(n),t.handlers[e].apply(t,i)}}(this)},e.prototype.validToggler=function(e){var t;return"cardExpiry"===e?t=function(e){var t;return t=$.payment.cardExpiryVal(e),$.payment.validateCardExpiry(t.month,t.year)}:"cardCVC"===e?t=function(e){return function(t){return $.payment.validateCardCVC(t,e.cardType)}}(this):"cardNumber"===e?t=function(e){return $.payment.validateCardNumber(e)}:"cardHolderName"===e&&(t=function(e){return""!==e}),function(e){return function(r,n,i){var o;return o=t(r),e.toggleValidClass(n,o),e.toggleValidClass(i,o),r}}(this)},e.prototype.toggleValidClass=function(e,t){return e.toggleClass(this.options.classes.valid,t),e.toggleClass(this.options.classes.invalid,!t)},e.prototype.handlers={setCardType:function(e,t,r){return this.$card.hasClass(r)?void 0:(this.$card.removeClass("unknown"),this.$card.removeClass(this.cardTypes.join(" ")),this.$card.addClass(r),this.$card.toggleClass("identified","unknown"!==r),this.cardType=r)},flipCard:function(e,t){return this.$card.toggleClass("flipped")},captureTab:function(e,t){var r,n;return r=t.keyCode||t.which,9===r&&!t.shiftKey&&(n=e.payment("cardExpiryVal"),n.month||n.year)?$.payment.validateCardExpiry(n.month,n.year)?void 0:t.preventDefault():void 0},captureName:function(e,t){var r,n,o;return o=t.which||t.keyCode,n=[48,49,50,51,52,53,54,55,56,57,106,107,109,110,111,186,187,188,189,190,191,192,219,220,221,222],r=[189,109,190,110,222],-1===n.indexOf(o)||!t.shiftKey&&i.call(r,o)>=0?void 0:t.preventDefault()}},$.fn.bindVal=function(e,t){var r,n,i,o,a;return null==t&&(t={}),t.fill=t.fill||!1,t.filters=t.filters||[],t.filters instanceof Array||(t.filters=[t.filters]),t.join=t.join||"","function"!=typeof t.join&&(i=t.join,t.join=function(){return i}),r=$(this),a=function(){var t,r,i;for(i=[],n=t=0,r=e.length;r>t;n=++t)o=e[n],i.push(e.eq(n).text());return i}(),r.on("focus",function(){return e.addClass("focused")}),r.on("blur",function(){return e.removeClass("focused")}),r.on("keyup change paste",function(i){var s,c,l,d,h,u,p,f,m,v;for(d=r.map(function(){return $(this).val()}).get(),c=t.join(d),d=d.join(c),d===c&&(d=""),m=t.filters,h=0,p=m.length;p>h;h++)s=m[h],d=s(d,r,e);for(v=[],n=u=0,f=e.length;f>u;n=++u)o=e[n],l=t.fill?d+a[n].substring(d.length):d||a[n],v.push(e.eq(n).text(l));return v}),r},e}(),$.fn.extend({card:function(){var e,t;return t=arguments[0],e=2<=arguments.length?o.call(arguments,1):[],this.each(function(){var r,i;return r=$(this),i=r.data("card"),i||r.data("card",i=new n(this,t)),"string"==typeof t?i[t].apply(i,e):void 0})}})},{"jquery.payment":1}]},{},[2])(2)}),!function(e){"use strict";function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function r(e,t){var r=n(e,t)?o:i;r(e,t)}var n,i,o;"classList"in document.documentElement?(n=function(e,t){return e.classList.contains(t)},i=function(e,t){e.classList.add(t)},o=function(e,t){e.classList.remove(t)}):(n=function(e,r){return t(r).test(e.className)},i=function(e,t){n(e,t)||(e.className=e.className+" "+t)},o=function(e,r){e.className=e.className.replace(t(r)," ")});var a={hasClass:n,addClass:i,removeClass:o,toggleClass:r,has:n,add:i,remove:o,toggle:r};"function"==typeof define&&define.amd?define(a):e.classie=a}(window);var modal,close,overlay;popupInit();