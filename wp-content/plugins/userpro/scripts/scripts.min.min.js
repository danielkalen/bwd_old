function userpro_shortcode_template(e,t,s,r,i,n){if(str="action=userpro_shortcode_template&shortcode="+s,r&&(str=str+"&up_username="+r),n&&(str=str+"&post_id="+n),i&&(str+="&force_redirect_uri=1"),t.find("form").length>0){var o=t.find("form");userpro_init_load(o)}jQuery.ajax({url:userpro_ajax_url,data:str,dataType:"JSON",type:"POST",error:function(e,t,s){userpro_end_load(o),alert(s)},success:function(s){"insert"==e&&jQuery(t).html(s.response),"update"==e&&(jQuery(t).replaceWith(s.response),userpro_end_load(o)),userpro_responsive(),userpro_chosen(),userpro_fluid_videos(),userpro_ajax_picupload(),"function"==typeof userpro_media_manager&&userpro_media_manager(),jQuery(".userpro form").each(function(){userpro_collapse(jQuery(this))}),userpro_overlay_center(".userpro-overlay-inner")}})}function userpro_fluid_videos(){var e=jQuery(".userpro iframe, .userpro object, .userpro embed"),t=jQuery(".userpro-input");e.each(function(){jQuery(this).attr("data-aspectRatio",this.height/this.width).removeAttr("height").removeAttr("width")});var s=t.width();e.each(function(){var e=jQuery(this);e.width(jQuery(this).parents(".userpro-input").width()).height(jQuery(this).parents(".userpro-input").width()*e.attr("data-aspectRatio"))})}function userpro_ajax_picupload(){jQuery(".userpro-pic-upload").each(function(){var e=jQuery(this).data("allowed_extensions"),t=jQuery(this).data("filetype"),s=jQuery(this).parents(".userpro").find("form");jQuery(this).uploadFile({url:userpro_upload_url,allowedTypes:e,onSubmit:function(e){var t=jQuery(".ajax-file-upload-statusbar:visible");t.parents(".userpro-input").find(".red").hide(),t.parents(".userpro-input").find("img.default").length&&(t.parents(".userpro-input").find("img.default").show(),t.parents(".userpro-input").find("img.modified").remove())},onSuccess:function(e,r,i){r=jQuery.parseJSON(r);var n=jQuery(".ajax-file-upload-statusbar:visible"),o=r.target_file_uri;if(n.parents(".userpro-input").find("img.default").length)var a=n.parents(".userpro-input").find("img.default").attr("width"),l=n.parents(".userpro-input").find("img.default").attr("height");else if(n.parents(".userpro-input").find("img.modified").length)var a=n.parents(".userpro-input").find("img.modified").attr("width"),l=n.parents(".userpro-input").find("img.modified").attr("height");else if(n.parents(".userpro-input").find("img.avatar").length)var a=n.parents(".userpro-input").find("img.avatar").attr("width"),l=n.parents(".userpro-input").find("img.avatar").attr("height");str="action=userpro_crop_picupload&filetype="+t+"&width="+a+"&height="+l+"&src="+o,jQuery.ajax({url:userpro_ajax_url,data:str,dataType:"JSON",type:"POST",success:function(e){n.prev().after("<input type='button' value='"+n.parents(".userpro-input").find(".userpro-pic").data("remove_text")+"' class='userpro-button red' style='display:none' />"),n.prev().fadeIn(function(){"picture"==t?(n.parents(".userpro-input").find("img").attr("src",e.response),n.parents(".userpro-input").find("img").removeClass("no_feature")):"file"==t&&(n.parents(".userpro-input").find(".userpro-file-input").remove(),n.parents(".userpro-input").prepend(e.response)),n.hide()}),n.parents(".userpro-input").find("input:hidden").val(o),n.parents(".userpro-input").find(".userpro-pic-none").hide(),s.find("input").each(function(){jQuery(this).trigger("blur")})}})}})})}function userpro_password_strength_meter(e){var t=e.parents(".userpro").find(".userpro-field[data-key^='passwordstrength']"),s=t.find("span.strength-text").data(),r=t.find("span.strength-text"),i=e.val(),n=/[a-z]/,o=/[A-Z]/,a=/[0-9]/,l=/[0-9].*[0-9]/,u=/[^a-zA-Z0-9]/,h=/^(.)\1+$/,c=n.test(i),p=o.test(i.substring(0,1).toLowerCase()+i.substring(1)),d=a.test(i),f=l.test(i),_=u.test(i);return t.length>0?i.length<8?(t.find(".strength-plain").removeClass("fill"),r.html(s.too_short),0):h.test(i)?(t.find(".strength-plain").removeClass("fill"),t.find(".strength-plain:eq(0)").addClass("fill"),r.html(s.very_weak),1):c&&p&&d&&_?(t.find(".strength-plain").removeClass("fill"),t.find(".strength-plain").addClass("fill"),r.html(s.very_strong),5):c&&p&&d||c&&f||p&&f||_?(t.find(".strength-plain").removeClass("fill"),t.find(".strength-plain:eq(0),.strength-plain:eq(1),.strength-plain:eq(2),.strength-plain:eq(3)").addClass("fill"),r.html(s.strong),4):c&&p||c&&d||p&&d?(t.find(".strength-plain").removeClass("fill"),t.find(".strength-plain:eq(0),.strength-plain:eq(1),.strength-plain:eq(2)").addClass("fill"),r.html(s.good),3):(t.find(".strength-plain").removeClass("fill"),t.find(".strength-plain:eq(0),.strength-plain:eq(1)").addClass("fill"),r.html(s.weak),2):void 0}function userpro_chosen(){jQuery(".userpro select, .emd-filters select").removeClass("chzn-done").css("display","inline").data("chosen",null),jQuery(".userpro, .emd-filters").find("*[class*=chzn], .chosen-container").remove(),jQuery(".chosen-select").chosen({disable_search_threshold:10,width:"100%"}),jQuery(".chosen-select-compact").chosen({disable_search:1,width:"100%"}),jQuery(".userpro-profile-badge").tipsy({offset:3,fade:!0,opacity:1}),jQuery(".userpro-profile-badge-right").tipsy({offset:3,fade:!0,opacity:1,gravity:"w"})}function userpro_responsive(){jQuery(".userpro-is-responsive").each(function(){var e=jQuery(this);e.width()<=400?(e.addClass("userpro-centered-c").removeClass("userpro-head"),e.find("*").addClass("userpro-force-center"),e.find(".userpro-profile-name").addClass("small")):(e.removeClass("userpro-centered-c").addClass("userpro-head"),e.find("*").removeClass("userpro-force-center"),e.find(".userpro-profile-name").removeClass("small"))}),jQuery(".userpro").each(function(){var e=jQuery(this);e.width()<=400&&e.width()>0&&"float"==e.data("layout")?e.removeClass("userpro-float"):"float"==e.data("layout")&&e.addClass("userpro-float"),e.width()<=400&&e.width()>0?(e.find(".userpro-label").hasClass("iconed")&&(e.find(".userpro-field-icon").hide(),e.find(".userpro-label").removeClass("iconed")),e.find(".userpro-submit").find("input").addClass("fullwidth-block"),e.find(".userpro-social-connect").addClass("fullwidth-block-social")):(e.find(".userpro-submit").find("input").removeClass("fullwidth-block"),e.find(".userpro-social-connect").removeClass("fullwidth-block-social"))}),jQuery(".userpro-users-v2").each(function(){var e=jQuery(this);e.width()<=700&&e.find(".userpro-awsm").css({width:"40%","margin-left":"15px","margin-right":"15px"}),e.width()<=560&&e.find(".userpro-awsm").css({width:"100%","margin-left":0,"margin-right":0}),e.width()>700&&e.find(".userpro-awsm").css({width:"25%","margin-left":"15px","margin-right":"15px"}),equalHeight(jQuery(this).find(".userpro-awsm-bio")),equalHeight(jQuery(this).find(".userpro-awsm span.userpro-badges")),equalHeight(jQuery(this).find(".userpro-awsm-social"))}),jQuery(".userpro-post-wrap").each(function(){var e=jQuery(this);e.width()<=700&&e.find(".userpro-post:not(.userpro-post-compact)").css({width:"40%","margin-left":"10px","margin-right":"10px"}),e.width()<=400&&e.find(".userpro-post:not(.userpro-post-compact)").css({width:"100%","margin-left":0,"margin-right":0}),e.width()>700&&e.find(".userpro-post:not(.userpro-post-compact)").css({width:"25%","margin-left":"10px","margin-right":"10px"})}),jQuery("input[data-fieldtype=datepicker]").datepicker({dateFormat:"dd-mm-yy",changeMonth:!0,changeYear:!0,showOtherMonths:!0,selectOtherMonths:!0,dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],yearRange:"c-65:c+0"})}function equalHeight(e){tallest=0,e.each(function(){jQuery(this).height("auto"),thisHeight=jQuery(this).height(),thisHeight>tallest&&(tallest=thisHeight)}),e.height(tallest)}function userpro_overlay_center(e){e.length&&jQuery(e).imagesLoaded(function(){jQuery(e).animate({top:jQuery(window).innerHeight()/2,"margin-top":"-"+jQuery(e).find(".userpro").innerHeight()/2+"px"})})}function userpro_collapse(e){e.find(".userpro-section").each(function(){0==jQuery(this).next("div.userpro-field:not(.userpro-submit)").length&&jQuery(this).hide()}),e.find(".userpro-collapsible-1.userpro-collapsed-1").each(function(){jQuery(this).nextUntil("div.userpro-column").hide(),0==jQuery(this).find("span").length&&jQuery(this).prepend('<span><i class="userpro-icon-angle-right"></i></span>')}),e.find(".userpro-collapsible-1.userpro-collapsed-0").each(function(){jQuery(this).nextUntil("div.userpro-column").show(),0==jQuery(this).find("span").length&&jQuery(this).prepend('<span><i class="userpro-icon-angle-down"></i></span>')})}function userpro_side_validate(e,t,s){str="action=userpro_side_validate&input_value="+t.replace(/&/g,"%26")+"&ajaxcheck="+s+"&element="+e,jQuery.ajax({url:userpro_ajax_url,data:str,dataType:"JSON",type:"POST",success:function(t){var s=e.parents(".userpro-input");t&&t.error?userpro_client_error(e,s,t.error):userpro_client_valid(e,s),userpro_overlay_center(".userpro-overlay-inner")}})}function userpro_client_error(e,t,s){e.data("custom-error")&&(s=e.data("custom-error")),e.attr("type")?"hidden"==e.attr("type")?(t.find(".icon-ok").remove(),0==t.find(".userpro-warning").length?(e.addClass("warning").removeClass("ok"),t.append('<div class="userpro-warning"><i class="userpro-icon-caret-up"></i>'+s+"</div>"),t.find(".userpro-warning").css({top:"0px",opacity:"1"})):(t.find(".userpro-warning").html('<i class="userpro-icon-caret-up"></i>'+s),t.find(".userpro-warning").css({top:"0px",opacity:"1"}))):(t.find(".icon-ok").remove(),0==t.find(".userpro-warning").length?(e.addClass("warning").removeClass("ok"),e.after('<div class="userpro-warning"><i class="userpro-icon-caret-up"></i>'+s+"</div>"),t.find(".userpro-warning").css({top:"0px",opacity:"1"})):(t.find(".userpro-warning").html('<i class="userpro-icon-caret-up"></i>'+s),t.find(".userpro-warning").css({top:"0px",opacity:"1"}))):0==t.find(".userpro-warning").length?(t.find(".chosen-container").after('<div class="userpro-warning"><i class="userpro-icon-caret-up"></i>'+s+"</div>"),t.find(".userpro-warning").css({top:"0px",opacity:"1"})):(t.find(".userpro-warning").html('<i class="userpro-icon-caret-up"></i>'+s),t.find(".userpro-warning").css({top:"0px",opacity:"1"})),userpro_overlay_center(".userpro-overlay-inner")}function userpro_client_error_irregular(e,t,s){""!=e&&e.data("custom-error")&&(s=e.data("custom-error")),0==t.find(".userpro-warning").length&&(t.append('<div class="userpro-warning"><i class="userpro-icon-caret-up"></i>'+s+"</div>"),t.find(".userpro-warning").css({top:"0px",opacity:"1"})),userpro_overlay_center(".userpro-overlay-inner")}function userpro_client_valid(e,t){e.attr("type")?"radio"==e.attr("type")||"checkbox"==e.attr("type")?(t.find(".userpro-warning").remove(),e.removeClass("warning").addClass("ok")):(t.find(".userpro-warning").remove(),e.removeClass("warning").addClass("ok"),0==t.find(".icon-ok").length&&(""!=e.val()?t.append('<div class="icon-ok"><i class="userpro-icon-ok"></i></div>'):t.find(".icon-ok").remove())):t.find(".userpro-warning").remove(),userpro_overlay_center(".userpro-overlay-inner")}function userpro_clear_form(e){e.find(".userpro-warning").remove(),e.find("input,select,textarea").removeClass("warning").addClass("ok")}function userpro_clear_input(e){e.parents(".userpro-input").find(".userpro-warning").remove(),e.removeClass("warning")}function userpro_init_load(e){e.find("input[type=submit],input[type=button]").attr("disabled","disabled"),e.parents(".userpro").find("img.userpro-loading").show().addClass("inline")}function userpro_end_load(e){jQuery(".tipsy").remove(),e.find("input[type=submit],input[type=button]").removeAttr("disabled"),e.parents(".userpro").find("img.userpro-loading").hide().removeClass("inline")}function userpro_overlay_confirmation(e){jQuery(".userpro-modal-inner").length&&jQuery(".userpro-modal-inner").remove(),jQuery("body").append('<div class="userpro-modal-inner"><i class="userpro-icon-ok"></i><i class="userpro-icon-remove"></i>'+e+"</div>"),jQuery(".userpro-modal-inner").css({"margin-top":"-"+jQuery(".userpro-modal-inner").innerHeight()/2+"px",opacity:1})}!function($){function e(e,t){return"function"==typeof e?e.call(t):e}function t(e){for(;e=e.parentNode;)if(e==document)return!0;return!1}function s(e,t){this.$element=$(e),this.options=t,this.enabled=!0,this.fixTitle()}s.prototype={show:function(){var t=this.getTitle();if(t&&this.enabled){var s=this.tip();s.find(".tipsy-inner")[this.options.html?"html":"text"](t),s[0].className="tipsy",s.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var r=$.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),i=s[0].offsetWidth,n=s[0].offsetHeight,o=e(this.options.gravity,this.$element[0]),a;switch(o.charAt(0)){case"n":a={top:r.top+r.height+this.options.offset,left:r.left+r.width/2-i/2};break;case"s":a={top:r.top-n-this.options.offset,left:r.left+r.width/2-i/2};break;case"e":a={top:r.top+r.height/2-n/2,left:r.left-i-this.options.offset};break;case"w":a={top:r.top+r.height/2-n/2,left:r.left+r.width+this.options.offset}}2==o.length&&("w"==o.charAt(1)?a.left=r.left+r.width/2-15:a.left=r.left+r.width/2-i+15),s.css(a).addClass("tipsy-"+o),s.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+o.charAt(0),this.options.className&&s.addClass(e(this.options.className,this.$element[0])),this.options.fade?s.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):s.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){$(this).remove()}):this.tip().remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,s=this.options;this.fixTitle();var e,s=this.options;return"string"==typeof s.title?e=t.attr("title"==s.title?"original-title":s.title):"function"==typeof s.title&&(e=s.title.call(t[0])),e=(""+e).replace(/(^\s*|\s*$)/,""),e||s.fallback},tip:function(){return this.$tip||(this.$tip=$('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},$.fn.tipsy=function(e){function t(t){var r=$.data(t,"tipsy");return r||(r=new s(t,$.fn.tipsy.elementOptions(t,e)),$.data(t,"tipsy",r)),r}function r(){var s=t(this);s.hoverState="in",0==e.delayIn?s.show():(s.fixTitle(),setTimeout(function(){"in"==s.hoverState&&s.show()},e.delayIn))}function i(){var s=t(this);s.hoverState="out",0==e.delayOut?s.hide():setTimeout(function(){"out"==s.hoverState&&s.hide()},e.delayOut)}if(e===!0)return this.data("tipsy");if("string"==typeof e){var n=this.data("tipsy");return n&&n[e](),this}if(e=$.extend({},$.fn.tipsy.defaults,e),e.live||this.each(function(){t(this)}),"manual"!=e.trigger){var o=e.live?"live":"bind",a="hover"==e.trigger?"mouseenter":"focus",l="hover"==e.trigger?"mouseleave":"blur";this[o](a,r)[o](l,i)}return this},$.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},$.fn.tipsy.revalidate=function(){$(".tipsy").each(function(){var e=$.data(this,"tipsy-pointee");e&&t(e)||$(this).remove()})},$.fn.tipsy.elementOptions=function(e,t){return $.metadata?$.extend({},t,$(e).metadata()):t},$.fn.tipsy.autoNS=function(){return $(this).offset().top>$(document).scrollTop()+$(window).height()/2?"s":"n"},$.fn.tipsy.autoWE=function(){return $(this).offset().left>$(document).scrollLeft()+$(window).width()/2?"e":"w"},$.fn.tipsy.autoBounds=function(e,t){return function(){var s={ns:t[0],ew:t.length>1?t[1]:!1},r=$(document).scrollTop()+e,i=$(document).scrollLeft()+e,n=$(this);return n.offset().top<r&&(s.ns="n"),n.offset().left<i&&(s.ew="w"),$(window).width()+$(document).scrollLeft()-n.offset().left<e&&(s.ew="e"),$(window).height()+$(document).scrollTop()-n.offset().top<e&&(s.ns="s"),s.ns+(s.ew?s.ew:"")}}}(jQuery),!function(){var e,t,s,r,i,n={}.hasOwnProperty,o=function(e,t){function s(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};r=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,s,r,i,n,o;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),n=e.childNodes,o=[],r=0,i=n.length;i>r;r++)s=n[r],o.push(this.add_option(s,t,e.disabled));return o},e.prototype.add_option=function(e,t,s){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:s===!0?s:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,s;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(s,function(e){return t[e]||"&amp;"})):e},e}(),r.select_to_array=function(e){var t,s,i,n,o;for(s=new r,o=e.childNodes,i=0,n=o.length;n>i;i++)t=o[i],s.add_node(t);return s.parsed},t=function(){function e(t,s){this.form_field=t,this.options=null!=s?s:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.results_option_build=function(e){var t,s,r,i,n;for(t="",n=this.results_data,r=0,i=n.length;i>r;r++)s=n[r],t+=s.group?this.result_add_group(s):this.result_add_option(s),(null!=e?e.first:void 0)&&(s.selected&&this.is_multiple?this.choice_build(s):s.selected&&!this.is_multiple&&this.single_set_selected_text(s.text));return t},e.prototype.result_add_option=function(e){var t,s;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),s=""!==e.style.cssText?' style="'+e.style+'"':"",'<li class="'+t.join(" ")+'"'+s+' data-option-array-index="'+e.array_index+'">'+e.search_text+"</li>"):""},e.prototype.result_add_group=function(e){return(e.search_match||e.group_match)&&e.active_options>0?'<li class="group-result">'+e.search_text+"</li>":""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,s,r,i,n,o,a,l,u,h,c,p;for(this.no_results_clear(),i=0,o=this.get_search_text(),e=o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),r=this.search_contains?"":"^",s=new RegExp(r+e,"i"),u=new RegExp(e,"i"),p=this.results_data,h=0,c=p.length;c>h;h++)t=p[h],t.search_match=!1,n=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(n=this.results_data[t.group_array_index],0===n.active_options&&n.search_match&&(i+=1),n.active_options+=1),(!t.group||this.group_search)&&(t.search_text=t.group?t.label:t.html,t.search_match=this.search_string_match(t.search_text,s),t.search_match&&!t.group&&(i+=1),t.search_match?(o.length&&(a=t.search_text.search(u),l=t.search_text.substr(0,a+o.length)+"</em>"+t.search_text.substr(a+o.length),t.search_text=l.substr(0,a)+"<em>"+l.substr(a)),null!=n&&(n.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),1>i&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(e,t){var s,r,i,n;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(r=e.replace(/\[|\]/g,"").split(" "),r.length))for(i=0,n=r.length;n>i;i++)if(s=r[i],t.test(s))return!0},e.prototype.choices_count=function(){var e,t,s,r;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,r=this.form_field.options,t=0,s=r.length;s>t;t++)e=r[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,s;switch(t=null!=(s=e.which)?s:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),e=jQuery,e.fn.extend({chosen:function(r){return t.browser_is_supported()?this.each(function(){var t,i;t=e(this),i=t.data("chosen"),"destroy"===r&&i?i.destroy():i||t.data("chosen",new s(this,r))}):this}}),s=function(t){function s(){return i=s.__super__.constructor.apply(this,arguments)}return o(s,t),s.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},s.prototype.set_up_html=function(){var t,s;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),s={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(s.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",s),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},s.prototype.register_observers=function(){var e=this;return this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},s.prototype.destroy=function(){return e(document).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},s.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},s.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},s.prototype.search_results_mousewheel=function(e){var t,s,r;return t=-(null!=(s=e.originalEvent)?s.wheelDelta:void 0)||(null!=(r=e.originialEvent)?r.detail:void 0),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},s.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},s.prototype.close_field=function(){return e(document).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},s.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(t){return this.container.is(e(t.target).closest(".chosen-container"))?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=r.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},s.prototype.result_do_highlight=function(e){var t,s,r,i,n;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),
r=parseInt(this.search_results.css("maxHeight"),10),n=this.search_results.scrollTop(),i=r+n,s=this.result_highlight.position().top+this.search_results.scrollTop(),t=s+this.result_highlight.outerHeight(),t>=i)return this.search_results.scrollTop(t-r>0?t-r:0);if(n>s)return this.search_results.scrollTop(s)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},s.prototype.update_results_content=function(e){return this.search_results.html(e)},s.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},s.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},s.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},s.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(t){var s;return s=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),s.length?(this.result_highlight=s,this.result_select(t),this.search_field.focus()):void 0},s.prototype.search_results_mouseover=function(t){var s;return s=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),s?this.result_do_highlight(s):void 0},s.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},s.prototype.choice_build=function(t){var s,r,i=this;return s=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?s.addClass("search-choice-disabled"):(r=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),r.bind("click.chosen",function(e){return i.choice_destroy_link_click(e)}),s.append(r)),this.search_container.before(s)},s.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},s.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},s.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_option_count=null,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(e){var t,s,r;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):(this.result_single_selected&&(this.result_single_selected.removeClass("result-selected"),r=this.result_single_selected[0].getAttribute("data-option-array-index"),this.results_data[r].selected=!1),this.result_single_selected=t),t.addClass("result-selected"),s=this.results_data[t[0].getAttribute("data-option-array-index")],s.selected=!0,this.form_field.options[s.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(s):this.single_set_selected_text(s.text),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[s.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},s.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},s.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},s.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html()},s.prototype.winnow_results_set_highlight=function(){var e,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e?this.result_do_highlight(e):void 0},s.prototype.no_results=function(t){var s;return s=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),s.find("span").first().html(t),this.search_results.append(s)},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},s.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.keydown_checker=function(e){var t,s;switch(t=null!=(s=e.which)?s:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},s.prototype.search_field_scale=function(){var t,s,r,i,n,o,a,l,u;if(this.is_multiple){for(r=0,a=0,n="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,u=o.length;u>l;l++)i=o[l],n+=i+":"+this.search_field.css(i)+";";return t=e("<div />",{style:n}),t.text(this.search_field.val()),e("body").append(t),a=t.width()+25,t.remove(),s=this.container.outerWidth(),a>s-10&&(a=s-10),this.search_field.css({width:a+"px"})}},s}(t)}.call(this),function(e,t,s){"use strict";var r=e.document,i=e.Modernizr,n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},o="Moz Webkit O Ms".split(" "),a=function(e){var t=r.documentElement.style,s;if("string"==typeof t[e])return e;e=n(e);for(var i=0,a=o.length;a>i;i++)if(s=o[i]+e,"string"==typeof t[s])return s},l=a("transform"),u=a("transitionProperty"),h={csstransforms:function(){return!!l},csstransforms3d:function(){var e=!!a("perspective");if(e){var s=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),r="@media ("+s.join("transform-3d),(")+"modernizr)",i=t("<style>"+r+"{#modernizr{height:3px}}</style>").appendTo("head"),n=t('<div id="modernizr" />').appendTo("html");e=3===n.height(),n.remove(),i.remove()}return e},csstransitions:function(){return!!u}},c;if(i)for(c in h)i.hasOwnProperty(c)||i.addTest(c,h[c]);else{i=e.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var p=" ",d;for(c in h)d=h[c](),i[c]=d,p+=" "+(d?"":"no-")+c;t("html").addClass(p)}if(i.csstransforms){var f=i.csstransforms3d?{translate:function(e){return"translate3d("+e[0]+"px, "+e[1]+"px, 0) "},scale:function(e){return"scale3d("+e+", "+e+", 1) "}}:{translate:function(e){return"translate("+e[0]+"px, "+e[1]+"px) "},scale:function(e){return"scale("+e+") "}},_=function(e,s,r){var i=t.data(e,"isoTransform")||{},n={},o,a={},u;n[s]=r,t.extend(i,n);for(o in i)u=i[o],a[o]=f[o](u);var h=a.translate||"",c=a.scale||"",p=h+c;t.data(e,"isoTransform",i),e.style[l]=p};t.cssNumber.scale=!0,t.cssHooks.scale={set:function(e,t){_(e,"scale",t)},get:function(e,s){var r=t.data(e,"isoTransform");return r&&r.scale?r.scale:1}},t.fx.step.scale=function(e){t.cssHooks.scale.set(e.elem,e.now+e.unit)},t.cssNumber.translate=!0,t.cssHooks.translate={set:function(e,t){_(e,"translate",t)},get:function(e,s){var r=t.data(e,"isoTransform");return r&&r.translate?r.translate:[0,0]}}}var m,y;i.csstransitions&&(m={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[u],y=a("transitionDuration"));var g=t.event,v=t.event.handle?"handle":"dispatch",b;g.special.smartresize={setup:function(){t(this).bind("resize",g.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",g.special.smartresize.handler)},handler:function(e,t){var s=this,r=arguments;e.type="smartresize",b&&clearTimeout(b),b=setTimeout(function(){g[v].apply(s,r)},"execAsap"===t?0:100)}},t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])},t.Isotope=function(e,s,r){this.element=t(s),this._create(e),this._init(r)};var w=["width","height"],x=t(e);t.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},t.Isotope.prototype={_create:function(e){this.options=t.extend({},t.Isotope.settings,e),this.styleQueue=[],this.elemCount=0;var s=this.element[0].style;this.originalStyle={};var r=w.slice(0);for(var i in this.options.containerStyle)r.push(i);for(var n=0,o=r.length;o>n;n++)i=r[n],this.originalStyle[i]=s[i]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var a={"original-order":function(e,t){return t.elemCount++,t.elemCount},random:function(){return Math.random()}};this.options.getSortData=t.extend(this.options.getSortData,a),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var l=this;setTimeout(function(){l.element.addClass(l.options.containerClass)},0),this.options.resizable&&x.bind("smartresize.isotope",function(){l.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(e){var t=this.options.itemSelector,s=t?e.filter(t).add(e.find(t)):e,r={position:"absolute"};return s=s.filter(function(e,t){return 1===t.nodeType}),this.usingTransforms&&(r.left=0,r.top=0),s.css(r).addClass(this.options.itemClass),this.updateSortData(s,!0),s},_init:function(e){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(e)},option:function(e){if(t.isPlainObject(e)){this.options=t.extend(!0,this.options,e);var s;for(var r in e)s="_update"+n(r),this[s]&&this[s]()}},_updateAnimationEngine:function(){var e=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),t;switch(e){case"css":case"none":t=!1;break;case"jquery":t=!0;break;default:t=!i.csstransitions}this.isUsingJQueryAnimation=t,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var e=this.usingTransforms=this.options.transformsEnabled&&i.csstransforms&&i.csstransitions&&!this.isUsingJQueryAnimation;e||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=e?this._translate:this._positionAbs},_filter:function(e){var t=""===this.options.filter?"*":this.options.filter;if(!t)return e;var s=this.options.hiddenClass,r="."+s,i=e.filter(r),n=i;if("*"!==t){n=i.filter(t);var o=e.not(r).not(t).addClass(s);this.styleQueue.push({$el:o,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:n,style:this.options.visibleStyle}),n.removeClass(s),e.filter(t)},updateSortData:function(e,s){var r=this,i=this.options.getSortData,n,o;e.each(function(){n=t(this),o={};for(var e in i)s||"original-order"!==e?o[e]=i[e](n,r):o[e]=t.data(this,"isotope-sort-data")[e];t.data(this,"isotope-sort-data",o)})},_sort:function(){var e=this.options.sortBy,t=this._getSorter,s=this.options.sortAscending?1:-1,r=function(r,i){var n=t(r,e),o=t(i,e);return n===o&&"original-order"!==e&&(n=t(r,"original-order"),o=t(i,"original-order")),(n>o?1:o>n?-1:0)*s};this.$filteredAtoms.sort(r)},_getSorter:function(e,s){return t.data(e,"isotope-sort-data")[s]},_translate:function(e,t){return{translate:[e,t]}},_positionAbs:function(e,t){return{left:e,top:t}},_pushPosition:function(e,t,s){t=Math.round(t+this.offset.left),s=Math.round(s+this.offset.top);var r=this.getPositionStyles(t,s);this.styleQueue.push({$el:e,style:r}),this.options.itemPositionDataEnabled&&e.data("isotope-item-position",{x:t,y:s})},layout:function(e,t){var s=this.options.layoutMode;if(this["_"+s+"Layout"](e),this.options.resizesContainer){var r=this["_"+s+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:r})}this._processStyleQueue(e,t),this.isLaidOut=!0},_processStyleQueue:function(e,s){var r=this.isLaidOut&&this.isUsingJQueryAnimation?"animate":"css",n=this.options.animationOptions,o=this.options.onLayout,a,l,u,h;if(l=function(e,t){t.$el[r](t.style,n)},this._isInserting&&this.isUsingJQueryAnimation)l=function(e,t){a=t.$el.hasClass("no-transition")?"css":r,t.$el[a](t.style,n)};else if(s||o||n.complete){var c=!1,p=[s,o,n.complete],d=this;if(u=!0,h=function(){if(!c){for(var t,s=0,r=p.length;r>s;s++)t=p[s],"function"==typeof t&&t.call(d.element,e,d);c=!0}},this.isUsingJQueryAnimation&&"animate"===r)n.complete=h,u=!1;else if(i.csstransitions){for(var f=0,_=this.styleQueue[0],g=_&&_.$el,v;!g||!g.length;){if(v=this.styleQueue[f++],!v)return;g=v.$el}var b=parseFloat(getComputedStyle(g[0])[y]);b>0&&(l=function(e,t){t.$el[r](t.style,n).one(m,h)},u=!1)}}t.each(this.styleQueue,l),u&&h(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(e){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,e)},addItems:function(e,t){var s=this._getAtoms(e);this.$allAtoms=this.$allAtoms.add(s),t&&t(s)},insert:function(e,t){this.element.append(e);var s=this;this.addItems(e,function(e){var r=s._filter(e);s._addHideAppended(r),s._sort(),s.reLayout(),s._revealAppended(r,t)})},appended:function(e,t){var s=this;this.addItems(e,function(e){s._addHideAppended(e),s.layout(e),s._revealAppended(e,t)})},_addHideAppended:function(e){this.$filteredAtoms=this.$filteredAtoms.add(e),e.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:e,style:this.options.hiddenStyle})},_revealAppended:function(e,t){var s=this;setTimeout(function(){e.removeClass("no-transition"),s.styleQueue.push({$el:e,style:s.options.visibleStyle}),s._isInserting=!1,s._processStyleQueue(e,t)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(e,t){this.$allAtoms=this.$allAtoms.not(e),this.$filteredAtoms=this.$filteredAtoms.not(e);var s=this,r=function(){e.remove(),t&&t.call(s.element)};e.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:e,style:this.options.hiddenStyle}),this._sort(),this.reLayout(r)):r()},shuffle:function(e){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(e)},destroy:function(){var e=this.usingTransforms,t=this.options;this.$allAtoms.removeClass(t.hiddenClass+" "+t.itemClass).each(function(){var t=this.style;t.position="",t.top="",t.left="",t.opacity="",e&&(t[l]="")});var s=this.element[0].style;for(var r in this.originalStyle)s[r]=this.originalStyle[r];this.element.unbind(".isotope").undelegate("."+t.hiddenClass,"click").removeClass(t.containerClass).removeData("isotope"),x.unbind(".isotope")},_getSegments:function(e){var t=this.options.layoutMode,s=e?"rowHeight":"columnWidth",r=e?"height":"width",i=e?"rows":"cols",o=this.element[r](),a,l=this.options[t]&&this.options[t][s]||this.$filteredAtoms["outer"+n(r)](!0)||o;a=Math.floor(o/l),a=Math.max(a,1),this[t][i]=a,this[t][s]=l},_checkIfSegmentsChanged:function(e){var t=this.options.layoutMode,s=e?"rows":"cols",r=this[t][s];return this._getSegments(e),this[t][s]!==r},_masonryReset:function(){this.masonry={},this._getSegments();var e=this.masonry.cols;for(this.masonry.colYs=[];e--;)this.masonry.colYs.push(0)},_masonryLayout:function(e){var s=this,r=s.masonry;e.each(function(){var e=t(this),i=Math.ceil(e.outerWidth(!0)/r.columnWidth);if(i=Math.min(i,r.cols),1===i)s._masonryPlaceBrick(e,r.colYs);else{var n=r.cols+1-i,o=[],a,l;for(l=0;n>l;l++)a=r.colYs.slice(l,l+i),o[l]=Math.max.apply(Math,a);s._masonryPlaceBrick(e,o)}})},_masonryPlaceBrick:function(e,t){for(var s=Math.min.apply(Math,t),r=0,i=0,n=t.length;n>i;i++)if(t[i]===s){r=i;break}var o=this.masonry.columnWidth*r,a=s;this._pushPosition(e,o,a);var l=s+e.outerHeight(!0),u=this.masonry.cols+1-n;for(i=0;u>i;i++)this.masonry.colYs[r+i]=l},_masonryGetContainerSize:function(){var e=Math.max.apply(Math,this.masonry.colYs);return{height:e}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(e){var s=this,r=this.element.width(),i=this.fitRows;e.each(function(){var e=t(this),n=e.outerWidth(!0),o=e.outerHeight(!0);0!==i.x&&n+i.x>r&&(i.x=0,i.y=i.height),s._pushPosition(e,i.x,i.y),i.height=Math.max(i.y+o,i.height),i.x+=n})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(e){var s=this,r=this.cellsByRow;e.each(function(){var e=t(this),i=r.index%r.cols,n=Math.floor(r.index/r.cols),o=(i+.5)*r.columnWidth-e.outerWidth(!0)/2,a=(n+.5)*r.rowHeight-e.outerHeight(!0)/2;s._pushPosition(e,o,a),r.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(e){var s=this;e.each(function(e){var r=t(this);s._pushPosition(r,0,s.straightDown.y),s.straightDown.y+=r.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var e=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];e--;)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(e){var s=this,r=s.masonryHorizontal;e.each(function(){var e=t(this),i=Math.ceil(e.outerHeight(!0)/r.rowHeight);if(i=Math.min(i,r.rows),1===i)s._masonryHorizontalPlaceBrick(e,r.rowXs);else{var n=r.rows+1-i,o=[],a,l;for(l=0;n>l;l++)a=r.rowXs.slice(l,l+i),o[l]=Math.max.apply(Math,a);s._masonryHorizontalPlaceBrick(e,o)}})},_masonryHorizontalPlaceBrick:function(e,t){for(var s=Math.min.apply(Math,t),r=0,i=0,n=t.length;n>i;i++)if(t[i]===s){r=i;break}var o=s,a=this.masonryHorizontal.rowHeight*r;this._pushPosition(e,o,a);var l=s+e.outerWidth(!0),u=this.masonryHorizontal.rows+1-n;for(i=0;u>i;i++)this.masonryHorizontal.rowXs[r+i]=l},_masonryHorizontalGetContainerSize:function(){var e=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:e}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(e){var s=this,r=this.element.height(),i=this.fitColumns;e.each(function(){var e=t(this),n=e.outerWidth(!0),o=e.outerHeight(!0);0!==i.y&&o+i.y>r&&(i.x=i.width,i.y=0),s._pushPosition(e,i.x,i.y),i.width=Math.max(i.x+n,i.width),i.y+=o})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(e){var s=this,r=this.cellsByColumn;e.each(function(){var e=t(this),i=Math.floor(r.index/r.rows),n=r.index%r.rows,o=(i+.5)*r.columnWidth-e.outerWidth(!0)/2,a=(n+.5)*r.rowHeight-e.outerHeight(!0)/2;s._pushPosition(e,o,a),r.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(e){var s=this;e.each(function(e){var r=t(this);s._pushPosition(r,s.straightAcross.x,0),s.straightAcross.x+=r.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},t.fn.imagesLoaded=function(e){function s(){e.call(i,n)}function r(e){var i=e.target;i.src!==a&&-1===t.inArray(i,l)&&(l.push(i),--o<=0&&(setTimeout(s),n.unbind(".imagesLoaded",r)))}var i=this,n=i.find("img").add(i.filter("img")),o=n.length,a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return o||s(),n.bind("load.imagesLoaded error.imagesLoaded",r).each(function(){var e=this.src;this.src=a,this.src=e}),i};var j=function(t){e.console&&e.console.error(t)};t.fn.isotope=function(e,s){if("string"==typeof e){var r=Array.prototype.slice.call(arguments,1);this.each(function(){var s=t.data(this,"isotope");return s?t.isFunction(s[e])&&"_"!==e.charAt(0)?void s[e].apply(s,r):void j("no such method '"+e+"' for isotope instance"):void j("cannot call methods on isotope prior to initialization; attempted to call method '"+e+"'")})}else this.each(function(){var r=t.data(this,"isotope");r?(r.option(e),r._init(s)):t.data(this,"isotope",new t.Isotope(e,this,s))});return this}}(window,jQuery),function(e){e.fn.uploadFile=function(t){var s=e.extend({url:"",method:"POST",enctype:"multipart/form-data",formData:null,returnType:null,allowedTypes:"*",fileName:"userpro_file",multiple:!1,autoSubmit:!0,showCancel:!1,showAbort:!1,showDone:!1,showStatusAfterSuccess:!0,buttonCss:!1,buttonClass:!1,onSubmit:function(e){},onSuccess:function(e,t){},onError:function(e,t){},uploadButtonClass:"ajax-file-upload"},t),r="ajax-file-upload-"+e(this).attr("id");return this.formGroup=r,e(this).click(function(){e.fn.uploadFile.createAjaxForm(this,r,s)}),this.startUpload=function(){e("."+this.formGroup).each(function(t,s){e(this).submit()})},e(this).addClass(s.uploadButtonClass),this},e.fn.uploadFile.createAjaxForm=function(t,s,r){var n=e("<form style='display:none;' class='"+s+"' method='"+r.method+"' action='"+r.url+"' enctype='"+r.enctype+"'></form>"),o="<input type='file' name='"+r.fileName+"'/>";r.multiple&&(r.fileName.indexOf("[]")!=r.fileName.length-2&&(r.fileName+="[]"),o="<input type='file' name='"+r.fileName+"' multiple/>");var a=e(o).appendTo(n),l=e("<div class='ajax-file-upload-statusbar'></div>"),u=e("").appendTo(l),h=e("<div class='ajax-file-upload-progress'>").appendTo(l).hide(),c=e("<div class='ajax-file-upload-bar'></div>").appendTo(h),p=e("").appendTo(l).hide(),d=e("<div class='ajax-file-upload-red'>Cancel</div>").appendTo(l).hide(),f=e("").appendTo(l).hide();e(a).change(function(){var s=r.allowedTypes.toLowerCase().split(","),o="",a=[];if(this.files)for(i=0;i<this.files.length;i++){var _=this.files[i].name;a.push(_);var m=_.split(".").pop().toLowerCase();if("*"!=r.allowedTypes&&jQuery.inArray(m,s)<0)return alert("File type is not allowed. Allowed only: "+r.allowedTypes),void e(n).remove();o+=_,0!=this.files.length&&(o+="")}else{var _=e(this).val();a.push(_);var m=_.split(".").pop().toLowerCase();if("*"!=r.allowedTypes&&jQuery.inArray(m,s)<0)return alert("File type is not allowed. Allowed only: "+r.allowedTypes),void e(n).remove();o=_}e("body").append(n),e(t).after(l),e(u).html(o);var y=null,g={forceSync:!1,data:r.formData,dataType:r.returnType,beforeSend:function(t,s){r.onSubmit.call(this,a),e(h).show(),e(d).hide(),e(f).hide(),r.showAbort&&(e(p).show(),e(p).click(function(){t.abort()}))},uploadProgress:function(t,s,r,i){var n=i+"%";e(c).width(n)},success:function(t,s,i){e(p).hide(),r.onSuccess.call(this,a,t,i),r.showStatusAfterSuccess?(r.showDone?(e(f).show(),e(f).click(function(){e(l).hide("slow")})):e(f).hide(),e(c).width("100%")):e(l).hide("slow"),e(n).remove()},error:function(t,s,i){"abort"==t.statusText?e(l).hide("slow"):(r.onError.call(this,a,s,i),e(h).hide(),e(l).append("<font color='red'>ERROR: "+i+"</font>")),e(p).hide(),e(n).remove()}};r.autoSubmit?e(n).ajaxSubmit(g):(r.showCancel&&(e(d).show(),e(d).click(function(){e(n).remove(),e(l).remove()})),e(n).ajaxForm(g))}),e(a).click()},void 0==e.fn.ajaxForm&&!function(e){function t(t){var s=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(this).ajaxSubmit(s))}function s(t){var s=t.target,r=e(s);if(!r.is("[type=submit],[type=image]")){var i=r.closest("[type=submit]");if(0===i.length)return;s=i[0]}var n=this;if(n.clk=s,"image"==s.type)if(void 0!==t.offsetX)n.clk_x=t.offsetX,n.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=r.offset();n.clk_x=t.pageX-o.left,n.clk_y=t.pageY-o.top}else n.clk_x=t.pageX-s.offsetLeft,n.clk_y=t.pageY-s.offsetTop;setTimeout(function(){n.clk=n.clk_x=n.clk_y=null},100)}function r(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var i={};i.fileapi=void 0!==e("<input type='file'/>").get(0).files,i.formdata=void 0!==window.FormData;var n=!!e.fn.prop;e.fn.attr2=function(){if(!n)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function s(s){var r=e.param(s,t.traditional).split("&"),i=r.length,n=[],o,a;for(o=0;i>o;o++)r[o]=r[o].replace(/\+/g," "),a=r[o].split("="),n.push([decodeURIComponent(a[0]),decodeURIComponent(a[1])]);return n}function o(r){for(var i=new FormData,n=0;n<r.length;n++)i.append(r[n].name,r[n].value);if(t.extraData){var o=s(t.extraData);for(n=0;n<o.length;n++)o[n]&&i.append(o[n][0],o[n][1])}t.data=null;var a=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(a.xhr=function(){var s=e.ajaxSettings.xhr();return s.upload&&s.upload.addEventListener("progress",function(e){var s=0,r=e.loaded||e.position,i=e.total;e.lengthComputable&&(s=Math.ceil(r/i*100)),t.uploadProgress(e,r,i,s)},!1),s}),a.data=null;var u=a.beforeSend;return a.beforeSend=function(e,t){t.data=i,u&&u.call(this,e,t)},e.ajax(a)}function a(s){function i(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(s){r("cannot get iframe.contentWindow document: "+s)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(s){r("cannot get iframe.contentDocument: "+s),t=e.document}return t}function o(){function t(){try{var e=i(g).readyState;r("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(s){r("Server abort: ",s," (",s.name,")"),a(C),j&&clearTimeout(j),j=void 0}}var s=c.attr2("target"),n=c.attr2("action");u.setAttribute("target",m),l||u.setAttribute("method","POST"),n!=d.url&&u.setAttribute("action",d.url),d.skipEncodingOverride||l&&!/post/i.test(l)||c.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(j=setTimeout(function(){x=!0,a(k)},d.timeout));var o=[];try{if(d.extraData)for(var h in d.extraData)d.extraData.hasOwnProperty(h)&&(e.isPlainObject(d.extraData[h])&&d.extraData[h].hasOwnProperty("name")&&d.extraData[h].hasOwnProperty("value")?o.push(e('<input type="hidden" name="'+d.extraData[h].name+'">').val(d.extraData[h].value).appendTo(u)[0]):o.push(e('<input type="hidden" name="'+h+'">').val(d.extraData[h]).appendTo(u)[0]));d.iframeTarget||(y.appendTo("body"),g.attachEvent?g.attachEvent("onload",a):g.addEventListener("load",a,!1)),setTimeout(t,15);try{u.submit()}catch(p){var f=document.createElement("form").submit;f.apply(u)}}finally{u.setAttribute("action",n),s?u.setAttribute("target",s):c.removeAttr("target"),e(o).remove()}}function a(t){if(!v.aborted&&!M){if(z=i(g),z||(r("cannot access response document"),t=C),t===k&&v)return v.abort("timeout"),void Q.reject(v,"timeout");if(t==C&&v)return v.abort("server abort"),void Q.reject(v,"error","server abort");if(z&&z.location.href!=d.iframeSrc||x){g.detachEvent?g.detachEvent("onload",a):g.removeEventListener("load",a,!1);var s="success",n;try{if(x)throw"timeout";var o="xml"==d.dataType||z.XMLDocument||e.isXMLDoc(z);if(r("isXml="+o),!o&&window.opera&&(null===z.body||!z.body.innerHTML)&&--D)return r("requeing onLoad callback, DOM not available"),void setTimeout(a,250);var l=z.body?z.body:z.documentElement;v.responseText=l?l.innerHTML:null,v.responseXML=z.XMLDocument?z.XMLDocument:z,o&&(d.dataType="xml"),v.getResponseHeader=function(e){var t={"content-type":d.dataType};return t[e.toLowerCase()]},l&&(v.status=Number(l.getAttribute("status"))||v.status,v.statusText=l.getAttribute("statusText")||v.statusText);var u=(d.dataType||"").toLowerCase(),h=/(json|script|text)/.test(u);if(h||d.textarea){var c=z.getElementsByTagName("textarea")[0];if(c)v.responseText=c.value,
v.status=Number(c.getAttribute("status"))||v.status,v.statusText=c.getAttribute("statusText")||v.statusText;else if(h){var p=z.getElementsByTagName("pre")[0],f=z.getElementsByTagName("body")[0];p?v.responseText=p.textContent?p.textContent:p.innerText:f&&(v.responseText=f.textContent?f.textContent:f.innerText)}}else"xml"==u&&!v.responseXML&&v.responseText&&(v.responseXML=O(v.responseText));try{A=L(v,u,d)}catch(m){s="parsererror",v.error=n=m||s}}catch(m){r("error caught: ",m),s="error",v.error=n=m||s}v.aborted&&(r("upload aborted"),s=null),v.status&&(s=v.status>=200&&v.status<300||304===v.status?"success":"error"),"success"===s?(d.success&&d.success.call(d.context,A,"success",v),Q.resolve(v.responseText,"success",v),_&&e.event.trigger("ajaxSuccess",[v,d])):s&&(void 0===n&&(n=v.statusText),d.error&&d.error.call(d.context,v,s,n),Q.reject(v,"error",n),_&&e.event.trigger("ajaxError",[v,d,n])),_&&e.event.trigger("ajaxComplete",[v,d]),_&&!--e.active&&e.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,v,s),M=!0,d.timeout&&clearTimeout(j),setTimeout(function(){d.iframeTarget||y.remove(),v.responseXML=null},100)}}}var u=c[0],h,p,d,_,m,y,g,v,b,w,x,j,Q=e.Deferred();if(Q.abort=function(e){v.abort(e)},s)for(p=0;p<f.length;p++)h=e(f[p]),n?h.prop("disabled",!1):h.removeAttr("disabled");if(d=e.extend(!0,{},e.ajaxSettings,t),d.context=d.context||d,m="jqFormIO"+(new Date).getTime(),d.iframeTarget?(y=e(d.iframeTarget),w=y.attr2("name"),w?m=w:y.attr2("name",m)):(y=e('<iframe name="'+m+'" src="'+d.iframeSrc+'" />'),y.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=y[0],v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var s="timeout"===t?"timeout":"aborted";r("aborting upload... "+s),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(i){}y.attr("src",d.iframeSrc),v.error=s,d.error&&d.error.call(d.context,v,s,t),_&&e.event.trigger("ajaxError",[v,d,s]),d.complete&&d.complete.call(d.context,v,s)}},_=d.global,_&&0===e.active++&&e.event.trigger("ajaxStart"),_&&e.event.trigger("ajaxSend",[v,d]),d.beforeSend&&d.beforeSend.call(d.context,v,d)===!1)return d.global&&e.active--,Q.reject(),Q;if(v.aborted)return Q.reject(),Q;b=u.clk,b&&(w=b.name,w&&!b.disabled&&(d.extraData=d.extraData||{},d.extraData[w]=b.value,"image"==b.type&&(d.extraData[w+".x"]=u.clk_x,d.extraData[w+".y"]=u.clk_y)));var k=1,C=2,T=e("meta[name=csrf-token]").attr("content"),S=e("meta[name=csrf-param]").attr("content");S&&T&&(d.extraData=d.extraData||{},d.extraData[S]=T),d.forceSync?o():setTimeout(o,10);var A,z,D=50,M,O=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},q=e.parseJSON||function(e){return window.eval("("+e+")")},L=function(t,s,r){var i=t.getResponseHeader("content-type")||"",n="xml"===s||!s&&i.indexOf("xml")>=0,o=n?t.responseXML:t.responseText;return n&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),r&&r.dataFilter&&(o=r.dataFilter(o,s)),"string"==typeof o&&("json"===s||!s&&i.indexOf("json")>=0?o=q(o):("script"===s||!s&&i.indexOf("javascript")>=0)&&e.globalEval(o)),o};return Q}if(!this.length)return r("ajaxSubmit: skipping submit process - no element selected"),this;var l,u,h,c=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),u=t.url||this.attr2("action"),h="string"==typeof u?e.trim(u):"",h=h||window.location.href||"",h&&(h=(h.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:h,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var p={};if(this.trigger("form-pre-serialize",[this,t,p]),p.veto)return r("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return r("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=t.traditional;void 0===d&&(d=e.ajaxSettings.traditional);var f=[],_,m=this.formToArray(t.semantic,f);if(t.data&&(t.extraData=t.data,_=e.param(t.data,d)),t.beforeSubmit&&t.beforeSubmit(m,this,t)===!1)return r("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[m,this,t,p]),p.veto)return r("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var y=e.param(m,d);_&&(y=y?y+"&"+_:_),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+y,t.data=null):t.data=y;var g=[];if(t.resetForm&&g.push(function(){c.resetForm()}),t.clearForm&&g.push(function(){c.clearForm(t.includeHidden)}),!t.dataType&&t.target){var v=t.success||function(){};g.push(function(s){var r=t.replaceTarget?"replaceWith":"html";e(t.target)[r](s).each(v,arguments)})}else t.success&&g.push(t.success);if(t.success=function(e,s,r){for(var i=t.context||this,n=0,o=g.length;o>n;n++)g[n].apply(i,[e,s,r||c,c])},t.error){var b=t.error;t.error=function(e,s,r){var i=t.context||this;b.apply(i,[e,s,r,c])}}if(t.complete){var w=t.complete;t.complete=function(e,s){var r=t.context||this;w.apply(r,[e,s,c])}}var x=e('input[type=file]:enabled:not([value=""])',this),j=x.length>0,Q="multipart/form-data",k=c.attr("enctype")==Q||c.attr("encoding")==Q,C=i.fileapi&&i.formdata;r("fileAPI :"+C);var T=(j||k)&&!C,S;t.iframe!==!1&&(t.iframe||T)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){S=a(m)}):S=a(m):S=(j||k)&&C?o(m):e.ajax(t),c.removeData("jqxhr").data("jqxhr",S);for(var A=0;A<f.length;A++)f[A]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(i){if(i=i||{},i.delegation=i.delegation&&e.isFunction(e.fn.on),!i.delegation&&0===this.length){var n={s:this.selector,c:this.context};return!e.isReady&&n.s?(r("DOM not ready, queuing ajaxForm"),e(function(){e(n.s,n.c).ajaxForm(i)}),this):(r("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return i.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,s).on("submit.form-plugin",this.selector,i,t).on("click.form-plugin",this.selector,i,s),this):this.ajaxFormUnbind().bind("submit.form-plugin",i,t).bind("click.form-plugin",i,s)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,s){var r=[];if(0===this.length)return r;var n=this[0],o=t?n.getElementsByTagName("*"):n.elements;if(!o)return r;var a,l,u,h,c,p,d;for(a=0,p=o.length;p>a;a++)if(c=o[a],u=c.name,u&&!c.disabled)if(t&&n.clk&&"image"==c.type)n.clk==c&&(r.push({name:u,value:e(c).val(),type:c.type}),r.push({name:u+".x",value:n.clk_x},{name:u+".y",value:n.clk_y}));else if(h=e.fieldValue(c,!0),h&&h.constructor==Array)for(s&&s.push(c),l=0,d=h.length;d>l;l++)r.push({name:u,value:h[l]});else if(i.fileapi&&"file"==c.type){s&&s.push(c);var f=c.files;if(f.length)for(l=0;l<f.length;l++)r.push({name:u,value:f[l],type:c.type});else r.push({name:u,value:"",type:c.type})}else null!==h&&"undefined"!=typeof h&&(s&&s.push(c),r.push({name:u,value:h,type:c.type,required:c.required}));if(!t&&n.clk){var _=e(n.clk),m=_[0];u=m.name,u&&!m.disabled&&"image"==m.type&&(r.push({name:u,value:_.val()}),r.push({name:u+".x",value:n.clk_x},{name:u+".y",value:n.clk_y}))}return r},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var s=[];return this.each(function(){var r=this.name;if(r){var i=e.fieldValue(this,t);if(i&&i.constructor==Array)for(var n=0,o=i.length;o>n;n++)s.push({name:r,value:i[n]});else null!==i&&"undefined"!=typeof i&&s.push({name:this.name,value:i})}}),e.param(s)},e.fn.fieldValue=function(t){for(var s=[],r=0,i=this.length;i>r;r++){var n=this[r],o=e.fieldValue(n,t);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(s,o):s.push(o))}return s},e.fieldValue=function(t,s){var r=t.name,i=t.type,n=t.tagName.toLowerCase();if(void 0===s&&(s=!0),s&&(!r||t.disabled||"reset"==i||"button"==i||("checkbox"==i||"radio"==i)&&!t.checked||("submit"==i||"image"==i)&&t.form&&t.form.clk!=t||"select"==n&&-1==t.selectedIndex))return null;if("select"==n){var o=t.selectedIndex;if(0>o)return null;for(var a=[],l=t.options,u="select-one"==i,h=u?o+1:l.length,c=u?o:0;h>c;c++){var p=l[c];if(p.selected){var d=p.value;if(d||(d=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value),u)return d;a.push(d)}}return a}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var s=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,i=this.tagName.toLowerCase();s.test(r)||"textarea"==i?this.value="":"checkbox"==r||"radio"==r?this.checked=!1:"select"==i?this.selectedIndex=-1:"file"==r?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(r)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var s=this.type;if("checkbox"==s||"radio"==s)this.checked=t;else if("option"==this.tagName.toLowerCase()){var r=e(this).parent("select");t&&r[0]&&"select-one"==r[0].type&&r.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}("undefined"!=typeof jQuery?jQuery:window.Zepto)}(jQuery),jQuery(document).ready(function(){jQuery(document).on("click",function(){jQuery(".userpro-modal-inner").length>0&&jQuery(".userpro-modal-inner").remove()}),jQuery(document).on("click","div.userpro-modal-inner i.userpro-icon-remove",function(e){jQuery(".userpro-modal-inner").remove()}),jQuery(document).on("click",".userpro-bar-success i, .userpro-bar-failed i",function(e){jQuery(this).parent().slideToggle("fast")}),jQuery(document).on("mouseenter",".userpro-field",function(e){jQuery(this).find(".userpro-field-icon").length&&jQuery(this).find(".userpro-field-icon").addClass("icon-active")}),jQuery(document).on("mouseleave",".userpro-field",function(e){jQuery(this).find(".userpro-field-icon").length&&jQuery(this).find(".userpro-field-icon").removeClass("icon-active")}),jQuery(document).on("click","a.userpro-alert-close",function(e){jQuery(this).parents(".userpro-alert").slideUp(200)}),jQuery(document).on("mouseenter",".userpro-online-i",function(e){jQuery(this).find(".userpro-online-i-thumb").fadeTo("fast",.7)}),jQuery(document).on("mouseleave",".userpro-online-i",function(e){jQuery(this).find(".userpro-online-i-thumb").fadeTo("fast",1)}),jQuery(document).on("mouseenter",".userpro-post:not(.userpro-post-compact)",function(e){jQuery(this).find("span.shadowed").stop().animate({height:"100%"},function(){jQuery(this).parent().find("span.iconed").fadeIn("slow")})}),jQuery(document).on("mouseleave",".userpro-post:not(.userpro-post-compact)",function(e){jQuery(this).find("span.iconed").hide(),jQuery(this).find("span.shadowed").stop().animate({height:"0"},200)}),jQuery(document).on("click",".userpro-alert-edit",function(e){jQuery(".userpro-alert-input").fadeIn()}),jQuery(document).on("click",".userpro-alert input[type=button]",function(e){var t=jQuery(this).parents(".userpro-alert"),s=jQuery(this).parents(".userpro-alert").find(".userpro-alert-content"),r=jQuery(this).parents(".userpro-alert").find("input[type=text]").val(),i=jQuery(this).parents(".userpro-alert").data("user_id");jQuery.ajax({url:userpro_ajax_url,data:"action=userpro_save_userdata&field=userpro_alert&value="+r+"&user_id="+i,dataType:"JSON",type:"POST",success:function(e){0==s.length?t.prepend('<div class="userpro-alert-content">'+e.res+"</div>"):s.html(e.res),t.find(".userpro-alert-input").fadeOut()}})}),jQuery(document).on("click",".userpro-social-facebook",function(e){Login(jQuery(this))}),jQuery(document).on("click","*[class^='popup-'], a[href='#']",function(e){return e.preventDefault(),!1}),jQuery(document).on("click",".userpro-overlay, a.userpro-close-popup",function(e){jQuery(".userpro-overlay").fadeOut(function(){jQuery(".userpro-overlay").remove()}),jQuery(".userpro-overlay-inner").fadeOut(function(){jQuery(".userpro-overlay-inner").remove()})}),jQuery(document).on("submit",".userpro form:not(.userpro-search-form)",function(e){return e.preventDefault(),!1}),jQuery(document).on("mouseenter",".userpro-user",function(e){jQuery(this).data("pic_size")>100?jQuery(this).find("span").animate({top:0},200):jQuery(this).find("a.userpro-user-img").fadeTo("fast",.7),jQuery(this).find(".userpro-user-link").css({opacity:1})}),jQuery(document).on("mouseleave",".userpro-user",function(e){jQuery(this).data("pic_size")>100?jQuery(this).find("span").animate({top:"-"+jQuery(this).parents(".userpro").data("memberlist_pic_size")+"px"},50):jQuery(this).find("a.userpro-user-img").fadeTo(1,1),jQuery(this).find(".userpro-user-link").css({opacity:0})}),jQuery(document).on("click","a,input",function(e){if(jQuery(this).data("template")){form_data=jQuery(this).parents(".userpro").data();var t=jQuery(".userpro").length;shortcode="[userpro id="+t,jQuery.each(form_data,function(e,t){shortcode=shortcode+" "+e+'="'+t+'"'}),shortcode+="]",shortcode=shortcode.replace(/(template=)"(.*?)"/,'template="'+jQuery(this).data("template")+'"'),jQuery(this).data("up_username")?up_username=jQuery(this).data("up_username"):up_username=0,jQuery(this).data("force_redirect_uri")?force_redirect_uri=jQuery(this).data("force_redirect_uri"):force_redirect_uri=0,post_id=jQuery(this).parents(".userpro").data("post_id"),userpro_shortcode_template("update",jQuery(this).parents(".userpro"),shortcode,up_username,force_redirect_uri,post_id)}}),jQuery(".userpro-clear-search").click(function(){var e=jQuery(this).parents(".userpro-search-form");e.find("input[type=text]").val(""),e.find("select").val(""),e.trigger("submit")}),jQuery(document).on("submit",".userpro form:not(.userpro-search-form)",function(e){var t=jQuery(this);if("login"!=t.data("action")&&"reset"!=t.data("action")&&"delete"!=t.data("action")){if(t.find("input,textarea").each(function(){jQuery(this).trigger("blur")}),t.find("select").each(function(){jQuery(this).trigger("change")}),t.find("select[data-required=1],textarea[data-required=1]").each(function(){jQuery(this).val()?userpro_client_valid(jQuery(this).find("select"),jQuery(this).parents(".userpro-input")):userpro_client_error_irregular(jQuery(this),jQuery(this).parents(".userpro-input"),jQuery(this).parents(".userpro").data("required_text"))}),t.find(".userpro-radio-wrap[data-required=1]").each(function(){jQuery(this).find("input:radio").is(":checked")?userpro_client_valid(jQuery(this).find("input:radio"),jQuery(this).parents(".userpro-input")):userpro_client_error_irregular("",jQuery(this).parents(".userpro-input"),jQuery(this).parents(".userpro").data("required_text"))}),t.find(".userpro-checkbox-wrap[data-required=1]").each(function(){jQuery(this).find("input:checkbox").is(":checked")?userpro_client_valid(jQuery(this).find("input:checkbox"),jQuery(this).parents(".userpro-input")):userpro_client_error_irregular("",jQuery(this).parents(".userpro-input"),jQuery(this).parents(".userpro").data("required_text"))}),t.find(".userpro-maxwidth[data-required=1]").each(function(){jQuery(this).find("input:checkbox").is(":checked")?userpro_client_valid(jQuery(this).find("input:checkbox"),jQuery(this).find(".userpro-input")):userpro_client_error_irregular("",jQuery(this).find(".userpro-input"),jQuery(this).data("required_msg"))}),t.find(".userpro-warning").length>0)return t.find(".userpro-section").each(function(){jQuery(this).find(".userpro-section-warning").remove(),jQuery(this).nextUntil("div.userpro-column").find(".userpro-warning").length>0&&(jQuery(this).css({display:"block"}),jQuery(this).append('<ins class="userpro-section-warning">Please correct fields</ins>'),jQuery(this).find(".userpro-section-warning").fadeIn())}),t.find(".userpro-warning:first").parents(".userpro-input").find("input").focus(),!1;t.find(".userpro-section").each(function(){jQuery(this).find(".userpro-section-warning").remove()})}else userpro_clear_form(t);userpro_init_load(t),form_data=jQuery(this).parents(".userpro").data(),shortcode="[userpro",jQuery.each(form_data,function(e,t){shortcode=shortcode+" "+e+'="'+t+'"'}),shortcode+="]",jQuery(this).parents(".userpro").find(".userpro-profile-img-btn a").data("up_username")?up_username=jQuery(this).parents(".userpro").find(".userpro-profile-img-btn a").data("up_username"):up_username=0,jQuery.ajax({url:userpro_ajax_url,data:t.serialize()+"&action=userpro_process_form&template="+form_data.template+"&group="+form_data[form_data.template+"_group"]+"&shortcode="+shortcode+"&up_username="+up_username,dataType:"JSON",type:"POST",error:function(e,s,r){userpro_end_load(t),alert(r)},success:function(e){if(userpro_end_load(t),e&&e.error){var s=0;jQuery.each(e.error,function(e,r){s++,element=t.find('.userpro-field[data-key="'+e+'"]').find("input"),parent=element.parents(".userpro-input"),"radio"==element.attr("type")||"checkbox"==element.attr("type")?userpro_client_error_irregular(element,parent,r):(1==s&&element.focus(),userpro_client_error(element,parent,r)),"userpro_editor"==e&&(t.find(".userpro-field-editor .userpro-input").find(".userpro-warning").length?(t.find(".userpro-field-editor .userpro-input").find(".userpro-warning").html(r),t.find(".userpro-field-editor .userpro-input").find(".userpro-warning").css({top:"0px",opacity:"1"})):(t.find(".userpro-field-editor .userpro-input").append('<div class="userpro-warning"><i class="userpro-icon-caret-up"></i>'+r+"</div>"),t.find(".userpro-field-editor .userpro-input").find(".userpro-warning").css({top:"0px",opacity:"1"})))})}e&&e.custom_message&&""!=e.custom_message&&(t.parents(".userpro").find(".userpro-body").find(".userpro-message").remove(),t.parents(".userpro").find(".userpro-body").prepend(e.custom_message)),e&&e.redirect_uri&&""!=e.redirect_uri&&("refresh"==e.redirect_uri?document.location.href=jQuery(location).attr("href"):document.location.href=e.redirect_uri),"publish"==form_data.template&&e.modal_msg&&userpro_overlay_confirmation(e.modal_msg),e&&e.template&&""!=e.template&&(t.parents(".userpro").remove(),$$("body").addClass("register-submitted"),notify("success","Your email is pending verification. Please activate your account."),"edit"==form_data.template&&userpro_overlay_confirmation(t.parents(".userpro").data("modal_profile_saved"))),e||e.error||"publish"!=form_data.template||(t.find("input,textarea").not("input[type=submit],input[type=hidden],input[type=button]").val(""),t.find("div.userpro-pic-post_featured_image img").addClass("no_feature"),t.find(".userpro-button.red").remove(),t.find(".icon-ok").remove()),userpro_responsive(),userpro_chosen(),userpro_fluid_videos(),userpro_ajax_picupload(),"function"==typeof userpro_media_manager&&userpro_media_manager(),jQuery(".userpro form").each(function(){userpro_collapse(jQuery(this))}),userpro_overlay_center(".userpro-overlay-inner")}})}),jQuery(document).on("blur",".userpro[data-template=publish] textarea, .userpro[data-template=publish] input, .userpro[data-template=register] input, .userpro[data-template=edit] input, .userpro[data-template=change] input",function(e){var t=jQuery(this),s=t.parents(".userpro-input"),r=t.data("required"),i=t.data("ajaxcheck"),n=t.parents(".userpro").find("input[type=password]:first"),o=t.parents(".userpro").find("input[type=password]:first").val();1==r?(0==t.val().replace(/^\s+|\s+$/g,"").length?userpro_client_error(t,s,t.parents(".userpro").data("required_text")):i?userpro_side_validate(t,t.val(),i):userpro_client_valid(t,s),"password"==jQuery(this).attr("type")&&(0==t.val().replace(/^\s+|\s+$/g,"").length?userpro_client_error(t,s,t.parents(".userpro").data("required_text")):t.val().length<8?userpro_client_error(t,s,t.parents(".userpro").data("password_too_short")):userpro_password_strength_meter(t)<3?userpro_client_error(t,s,t.parents(".userpro").data("password_not_strong")):userpro_client_valid(t,s))):"password"==t.attr("type")&&n&&o&&0==n.parents(".userpro-input").find(".userpro-warning").length?0==t.val().replace(/^\s+|\s+$/g,"").length?userpro_client_error(t,s,t.parents(".userpro").data("required_text")):t.val().length<8?userpro_client_error(t,s,t.parents(".userpro").data("password_too_short")):userpro_password_strength_meter(t)<3?userpro_client_error(t,s,t.parents(".userpro").data("password_not_strong")):o!=t.val()?userpro_client_error(t,s,jQuery(this).parents(".userpro").data("passwords_do_not_match")):userpro_client_valid(t,s):"password"==t.attr("type")&&o||"password"==t.attr("type")&&"change"==t.parents(".userpro").data("template")?0==t.val().replace(/^\s+|\s+$/g,"").length?userpro_client_error(t,s,t.parents(".userpro").data("required_text")):t.val().length<8?userpro_client_error(t,s,t.parents(".userpro").data("password_too_short")):userpro_password_strength_meter(t)<3?userpro_client_error(t,s,t.parents(".userpro").data("password_not_strong")):o!=t.val()?userpro_client_error(t,s,jQuery(this).parents(".userpro").data("passwords_do_not_match")):userpro_client_valid(t,s):"password"==t.attr("type")&&""==o&&""==t.val()?userpro_clear_input(t):i&&t.val()?userpro_side_validate(t,t.val(),i):i&&!t.val()?userpro_clear_input(t):t.val()&&"antispam"==t.data("type")?userpro_clear_input(t):i||"text"!=t.attr("type")||userpro_clear_input(t)}),jQuery(document).on("change",".userpro[data-template=register] select",function(e){var t=jQuery(this),s=t.parents(".userpro-input"),r=t.data("required");1==r&&(0==t.val()?userpro_client_error(t,s,t.parents(".userpro").data("required_text")):userpro_client_valid(t,s))}),jQuery(document).on("keyup keydown",".userpro[data-template=register] input[type=password][data-required=1]",function(e){userpro_password_strength_meter(jQuery(this))}),jQuery(document).on("keyup keydown",".userpro[data-template=edit] input[type=password]:first",function(e){userpro_password_strength_meter(jQuery(this))}),jQuery(document).on("keyup keydown",".userpro[data-template=change] input[type=password]:first",function(e){userpro_password_strength_meter(jQuery(this))}),jQuery(document).on("click",".userpro-collapsible-1",function(e){jQuery(this).nextUntil("div.userpro-column").is(":hidden")?(jQuery(this).nextUntil("div.userpro-column").show(),jQuery(this).removeClass("userpro-collapsed-1").addClass("userpro-collapsed-0"),jQuery(this).find("span").html('<i class="userpro-icon-angle-down"></i>'),1==jQuery(this).parents(".userpro").data("keep_one_section_open")&&(jQuery(".userpro-collapsible-1.userpro-collapsed-0").not(this).nextUntil("div.userpro-column").hide(),jQuery(".userpro-collapsible-1.userpro-collapsed-0").not(this).find("span").html('<i class="userpro-icon-angle-right"></i>'),jQuery(".userpro-collapsible-1.userpro-collapsed-0").not(this).removeClass("userpro-collapsed-0").addClass("userpro-collapsed-1"))):(jQuery(this).nextUntil("div.userpro-column").hide(),jQuery(this).find("span").html('<i class="userpro-icon-angle-right"></i>'),jQuery(this).removeClass("userpro-collapsed-0").addClass("userpro-collapsed-1")),userpro_overlay_center(".userpro-overlay-inner")}),jQuery(document).on("click","*[class^='popup-'],*[class^='popup-'] a",function(e){var t="";if(jQuery(this).data("up_username")&&(t=jQuery(this).data("up_username")),0==/popup/.test(jQuery(this).attr("class")))var s=jQuery(this).parents("li").attr("class").split("-")[1].match(/\w*/);else var s=jQuery(this).attr("class").split("-")[1].match(/\w*/);var r=jQuery(".userpro").length;shortcode="[userpro id="+r+" template="+s,jQuery.each(jQuery(this).data(),function(e,t){shortcode=shortcode+" "+e+'="'+t+'"'}),shortcode+="]",0==jQuery("body").find(".userpro-overlay").length&&jQuery("body").append('<div class="userpro-overlay"/><div class="userpro-overlay-inner"/>'),userpro_shortcode_template("insert",jQuery(".userpro-overlay-inner"),shortcode,t),"request_verify"==s&&jQuery(".popup-request_verify").remove()}),jQuery(document).on("change","input[name^='gender']",function(e){this_form=jQuery(this).parents(".userpro"),""==this_form.find("*[data-key=profilepicture]").find("input:hidden").val()&&this_form.find("*[data-key=profilepicture]").find("img").attr("src",jQuery(this).parents(".userpro").data("default_avatar_"+jQuery(this).val().toLowerCase()))}),jQuery(window).smartresize(function(){userpro_overlay_center(".userpro-overlay-inner"),userpro_responsive(),userpro_fluid_videos()}),userpro_responsive(),setTimeout(function(){userpro_fluid_videos()},3e3),userpro_chosen(),userpro_ajax_picupload(),"function"==typeof userpro_media_manager&&userpro_media_manager(),jQuery(".userpro form").each(function(){userpro_collapse(jQuery(this))}),jQuery(document).on("click",".userpro form:not(.userpro-search-form) .userpro-input .userpro-button.red",function(e){jQuery(this).parents(".userpro-input").find(".userpro-pic-none").show(),jQuery(this).parents(".userpro-input").find("img.default").length?(jQuery(this).parents(".userpro-input").find("img.default").show(),jQuery(this).parents(".userpro-input").find("img.modified").remove()):jQuery(this).parents(".userpro").find("div.userpro-pic-post_featured_image").length?jQuery(this).parents(".userpro-input").find("img.modified").addClass("no_feature").attr("src",jQuery(this).parents(".userpro-input").data("placeholder")):jQuery(this).parents(".userpro-input").find("img.modified").attr("src",""),jQuery(this).parents(".userpro-input").find(".userpro-file-input").length&&jQuery(this).parents(".userpro-input").find(".userpro-file-input").remove(),jQuery(this).parents(".userpro-input").find("input:hidden").val(""),jQuery(this).fadeOut(),jQuery(this).parents(".userpro-input").find("input:hidden").each(function(){jQuery(this).trigger("blur")})}),jQuery(document).on("click",".userpro input[type=radio]",function(e){var t=jQuery(this).parents(".userpro-input");t.find("span").removeClass("checked"),jQuery(this).parents("label").find("span").addClass("checked")}),jQuery(document).on("change",".userpro input[type=checkbox]",function(e){jQuery(this).is(":checked")?jQuery(this).parents("label").find("span").addClass("checked"):jQuery(this).parents("label").find("span").removeClass("checked")}),jQuery(document).on("click",".userpro-warning",function(e){jQuery(this).parents(".userpro-input").find("input").focus()})});